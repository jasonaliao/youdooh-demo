{
  "version": 3,
  "sources": ["empty-module:~/utils/map.server", "../../../app/routes/_index.tsx", "../../../app/components/navbar/Navbar.tsx", "../../../node_modules/@heroicons/react/24/outline/esm/Bars3Icon.js", "../../../node_modules/@heroicons/react/24/outline/esm/XMarkIcon.js", "../../../app/components/dooh-finder/DoohFinder.tsx", "../../../app/components/cluster-map/ClusterMap.tsx", "../../../node_modules/kdbush/index.js", "../../../node_modules/supercluster/index.js", "../../../node_modules/react-map-gl/src/exports-mapbox.ts", "../../../node_modules/react-map-gl/src/components/map.tsx", "../../../node_modules/react-map-gl/src/components/use-map.tsx", "../../../node_modules/react-map-gl/src/utils/transform.ts", "../../../node_modules/react-map-gl/src/utils/style-utils.ts", "../../../node_modules/react-map-gl/src/utils/deep-equal.ts", "../../../node_modules/react-map-gl/src/mapbox/mapbox.ts", "../../../node_modules/react-map-gl/src/mapbox/create-ref.ts", "../../../node_modules/react-map-gl/src/utils/use-isomorphic-layout-effect.ts", "../../../node_modules/react-map-gl/src/utils/set-globals.ts", "../../../node_modules/react-map-gl/src/components/marker.ts", "../../../node_modules/react-map-gl/src/utils/apply-react-style.ts", "../../../node_modules/react-map-gl/src/components/popup.ts", "../../../node_modules/react-map-gl/src/components/attribution-control.ts", "../../../node_modules/react-map-gl/src/components/use-control.ts", "../../../node_modules/react-map-gl/src/components/fullscreen-control.tsx", "../../../node_modules/react-map-gl/src/components/geolocate-control.ts", "../../../node_modules/react-map-gl/src/components/navigation-control.ts", "../../../node_modules/react-map-gl/src/components/scale-control.ts", "../../../node_modules/react-map-gl/src/components/source.ts", "../../../node_modules/react-map-gl/src/components/layer.ts", "../../../app/components/cluster-map/MarkerPin.tsx", "../../../node_modules/@heroicons/react/24/solid/esm/BuildingOfficeIcon.js", "../../../node_modules/@heroicons/react/24/solid/esm/TvIcon.js", "../../../app/components/cluster-map/ClusterPin.tsx", "../../../app/components/cluster-map/constants.ts", "../../../app/components/dooh-finder/DoohDetails.tsx", "../../../app/routes/get-dooh-by-id.tsx", "../../../app/components/slide-in-drawer/SlideInDrawer.tsx", "../../../node_modules/@headlessui/react/dist/hooks/use-iso-morphic-effect.js", "../../../node_modules/@headlessui/react/dist/utils/env.js", "../../../node_modules/@headlessui/react/dist/hooks/use-latest-value.js", "../../../node_modules/@headlessui/react/dist/hooks/use-disposables.js", "../../../node_modules/@headlessui/react/dist/utils/micro-task.js", "../../../node_modules/@headlessui/react/dist/utils/disposables.js", "../../../node_modules/@headlessui/react/dist/hooks/use-event.js", "../../../node_modules/@headlessui/react/dist/hooks/use-id.js", "../../../node_modules/@headlessui/react/dist/hooks/use-server-handoff-complete.js", "../../../node_modules/@headlessui/react/dist/hooks/use-outside-click.js", "../../../node_modules/@headlessui/react/dist/utils/match.js", "../../../node_modules/@headlessui/react/dist/utils/owner.js", "../../../node_modules/@headlessui/react/dist/utils/focus-management.js", "../../../node_modules/@headlessui/react/dist/hooks/use-document-event.js", "../../../node_modules/@headlessui/react/dist/hooks/use-window-event.js", "../../../node_modules/@headlessui/react/dist/hooks/use-sync-refs.js", "../../../node_modules/@headlessui/react/dist/utils/render.js", "../../../node_modules/@headlessui/react/dist/utils/class-names.js", "../../../node_modules/@headlessui/react/dist/utils/bugs.js", "../../../node_modules/@headlessui/react/dist/internal/hidden.js", "../../../node_modules/@headlessui/react/dist/internal/open-closed.js", "../../../node_modules/@headlessui/react/dist/components/keyboard.js", "../../../node_modules/@headlessui/react/dist/hooks/use-watch.js", "../../../node_modules/@headlessui/react/dist/utils/platform.js", "../../../node_modules/@headlessui/react/dist/components/dialog/dialog.js", "../../../node_modules/@headlessui/react/dist/components/focus-trap/focus-trap.js", "../../../node_modules/@headlessui/react/dist/hooks/use-tab-direction.js", "../../../node_modules/@headlessui/react/dist/hooks/use-is-mounted.js", "../../../node_modules/@headlessui/react/dist/hooks/use-owner.js", "../../../node_modules/@headlessui/react/dist/hooks/use-event-listener.js", "../../../node_modules/@headlessui/react/dist/utils/document-ready.js", "../../../node_modules/@headlessui/react/dist/hooks/use-on-unmount.js", "../../../node_modules/@headlessui/react/dist/components/portal/portal.js", "../../../node_modules/@headlessui/react/dist/internal/portal-force-root.js", "../../../node_modules/@headlessui/react/dist/components/description/description.js", "../../../node_modules/@headlessui/react/dist/internal/stack-context.js", "../../../node_modules/@headlessui/react/dist/use-sync-external-store-shim/index.js", "../../../node_modules/@headlessui/react/dist/use-sync-external-store-shim/useSyncExternalStoreShimClient.js", "../../../node_modules/@headlessui/react/dist/use-sync-external-store-shim/useSyncExternalStoreShimServer.js", "../../../node_modules/@headlessui/react/dist/hooks/use-store.js", "../../../node_modules/@headlessui/react/dist/utils/store.js", "../../../node_modules/@headlessui/react/dist/hooks/document-overflow/adjust-scrollbar-padding.js", "../../../node_modules/@headlessui/react/dist/hooks/document-overflow/handle-ios-locking.js", "../../../node_modules/@headlessui/react/dist/hooks/document-overflow/prevent-scroll.js", "../../../node_modules/@headlessui/react/dist/hooks/document-overflow/overflow-store.js", "../../../node_modules/@headlessui/react/dist/hooks/document-overflow/use-document-overflow.js", "../../../node_modules/@headlessui/react/dist/hooks/use-inert.js", "../../../node_modules/@headlessui/react/dist/hooks/use-root-containers.js", "../../../node_modules/@headlessui/react/dist/hooks/use-flags.js", "../../../node_modules/@headlessui/react/dist/components/transitions/transition.js", "../../../node_modules/@headlessui/react/dist/utils/once.js", "../../../node_modules/@headlessui/react/dist/components/transitions/utils/transition.js", "../../../node_modules/@headlessui/react/dist/hooks/use-transition.js"],
  "sourcesContent": ["module.exports = {};", "\n        if (!window.$RefreshReg$ || !window.$RefreshSig$ || !window.$RefreshRuntime$) {\n          console.warn('remix:hmr: React Fast Refresh only works when the Remix compiler is running in development mode.');\n        } else {\n          var prevRefreshReg = window.$RefreshReg$;\n          var prevRefreshSig = window.$RefreshSig$;\n          window.$RefreshReg$ = (type, id) => {\n            window.$RefreshRuntime$.register(type, \"\\\"app/routes/_index.tsx\\\"\" + id);\n          }\n          window.$RefreshSig$ = window.$RefreshRuntime$.createSignatureFunctionForTransform;\n        }\n      var _s = $RefreshSig$();\nimport { jsx, jsxs } from \"react/jsx-runtime\";\nimport * as __hmr__ from \"remix:hmr\";\nif (import.meta) {\n  import.meta.hot = __hmr__.createHotContext(\n  //@ts-expect-error\n  \"app/routes/_index.tsx\");\n}\nimport { useLoaderData } from \"@remix-run/react\";\nimport supabase from \"utils/supabase\";\nimport { NavBar } from \"~/components/navbar/Navbar\";\nimport { DoohFinder } from \"~/components/dooh-finder/DoohFinder\";\nimport { mapMarkersToPoints } from \"~/utils/map.server\";\nconst meta = () => {\n  return [{\n    title: \"Youdooh - Demo\"\n  }, {\n    name: \"description\",\n    content: \"Welcome to Youdooh!\"\n  }];\n};\nconst links = () => {\n  return [{\n    rel: \"stylesheet\",\n    href: \"https://api.tiles.mapbox.com/mapbox-gl-js/v2.8.1/mapbox-gl.css\"\n  }];\n};\nconst loader = async args => {\n  const mapBoxToken = process.env.MAPBOX_TOKEN;\n  const {\n    data\n  } = await supabase.from(\"creative_dimension\").select();\n  const points = mapMarkersToPoints(data);\n  return {\n    mapBoxToken,\n    points\n  };\n};\nfunction Index() {\n  _s();\n  const {\n    points,\n    mapBoxToken\n  } = useLoaderData();\n  return /* @__PURE__ */jsxs(\"div\", {\n    children: [/* @__PURE__ */jsx(NavBar, {}), /* @__PURE__ */jsx(DoohFinder, {\n      token: mapBoxToken,\n      points\n    })]\n  });\n}\n_s(Index, \"rC2ChcAai0Ta0kGLTGSiTJe7mj0=\", false, function () {\n  return [useLoaderData];\n});\n_c = Index;\nexport { Index as default, links, loader, meta };\nvar _c;\n$RefreshReg$(_c, \"Index\");\n        window.$RefreshReg$ = prevRefreshReg;\n        window.$RefreshSig$ = prevRefreshSig;\n      ", "\n        if (!window.$RefreshReg$ || !window.$RefreshSig$ || !window.$RefreshRuntime$) {\n          console.warn('remix:hmr: React Fast Refresh only works when the Remix compiler is running in development mode.');\n        } else {\n          var prevRefreshReg = window.$RefreshReg$;\n          var prevRefreshSig = window.$RefreshSig$;\n          window.$RefreshReg$ = (type, id) => {\n            window.$RefreshRuntime$.register(type, \"\\\"app/components/navbar/Navbar.tsx\\\"\" + id);\n          }\n          window.$RefreshSig$ = window.$RefreshRuntime$.createSignatureFunctionForTransform;\n        }\n      import { jsx, jsxs } from \"react/jsx-runtime\";\nimport * as __hmr__ from \"remix:hmr\";\nif (import.meta) {\n  import.meta.hot = __hmr__.createHotContext(\n  //@ts-expect-error\n  \"app/components/navbar/Navbar.tsx\");\n  import.meta.hot.lastModified = \"1689131715940.7266\";\n}\nimport { Link } from \"@remix-run/react\";\nimport { Bars3Icon } from \"@heroicons/react/24/outline\";\nconst NavBar = () => {\n  return /* @__PURE__ */jsx(\"header\", {\n    className: \"bg-white drop-shadow\",\n    children: /* @__PURE__ */jsxs(\"nav\", {\n      className: \"mx-auto flex items-center justify-between p-6 lg:px-8\",\n      \"aria-label\": \"Global\",\n      children: [/* @__PURE__ */jsx(\"div\", {\n        className: \"flex lg:flex-none mr-8\",\n        children: /* @__PURE__ */jsx(Bars3Icon, {\n          className: \"block h-6 w-6\",\n          \"aria-hidden\": \"true\"\n        })\n      }), /* @__PURE__ */jsx(\"div\", {\n        className: \"flex lg:flex-1\",\n        children: /* @__PURE__ */jsxs(Link, {\n          to: \"/\",\n          className: \"-m-1.5 p-1.5\",\n          children: [/* @__PURE__ */jsx(\"img\", {\n            className: \"h-8 w-120\",\n            src: \"/logo.png\",\n            alt: \"Your Company\"\n          }), /* @__PURE__ */jsx(\"span\", {\n            className: \"sr-only\",\n            children: \"YooDooh demo\"\n          })]\n        })\n      })]\n    })\n  });\n};\n_c = NavBar;\nexport { NavBar };\nvar _c;\n$RefreshReg$(_c, \"NavBar\");\n        window.$RefreshReg$ = prevRefreshReg;\n        window.$RefreshSig$ = prevRefreshSig;\n      ", "import * as React from \"react\";\nfunction Bars3Icon({\n  title,\n  titleId,\n  ...props\n}, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    strokeWidth: 1.5,\n    stroke: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5\"\n  }));\n}\nconst ForwardRef = React.forwardRef(Bars3Icon);\nexport default ForwardRef;", "import * as React from \"react\";\nfunction XMarkIcon({\n  title,\n  titleId,\n  ...props\n}, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    strokeWidth: 1.5,\n    stroke: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"M6 18L18 6M6 6l12 12\"\n  }));\n}\nconst ForwardRef = React.forwardRef(XMarkIcon);\nexport default ForwardRef;", "\n        if (!window.$RefreshReg$ || !window.$RefreshSig$ || !window.$RefreshRuntime$) {\n          console.warn('remix:hmr: React Fast Refresh only works when the Remix compiler is running in development mode.');\n        } else {\n          var prevRefreshReg = window.$RefreshReg$;\n          var prevRefreshSig = window.$RefreshSig$;\n          window.$RefreshReg$ = (type, id) => {\n            window.$RefreshRuntime$.register(type, \"\\\"app/components/dooh-finder/DoohFinder.tsx\\\"\" + id);\n          }\n          window.$RefreshSig$ = window.$RefreshRuntime$.createSignatureFunctionForTransform;\n        }\n      var _s = $RefreshSig$();\nimport { Fragment, jsx, jsxs } from \"react/jsx-runtime\";\nimport * as __hmr__ from \"remix:hmr\";\nif (import.meta) {\n  import.meta.hot = __hmr__.createHotContext(\n  //@ts-expect-error\n  \"app/components/dooh-finder/DoohFinder.tsx\");\n  import.meta.hot.lastModified = \"1689133269928.908\";\n}\nimport { useState } from \"react\";\nimport { ClusterMap } from \"~/components/cluster-map/ClusterMap\";\nimport { DoohDetails } from \"./DoohDetails\";\nimport { SlideInDrawer } from \"app/components/slide-in-drawer/SlideInDrawer\";\nconst DoohFinder = ({\n  token,\n  points\n}) => {\n  _s();\n  const [activeDoohID, setaActiveDoohID] = useState(0);\n  return /* @__PURE__ */jsxs(Fragment, {\n    children: [/* @__PURE__ */jsx(ClusterMap, {\n      token,\n      points,\n      onMarkerClick: pinData => {\n        setaActiveDoohID(pinData.properties.id);\n      }\n    }), /* @__PURE__ */jsx(SlideInDrawer, {\n      open: activeDoohID > 0,\n      onClose: () => setaActiveDoohID(0),\n      children: /* @__PURE__ */jsx(DoohDetails, {\n        selectedId: activeDoohID\n      })\n    })]\n  });\n};\n_s(DoohFinder, \"Q2LVXTpF+6Hnehjrc07SzPpbpmA=\");\n_c = DoohFinder;\nexport { DoohFinder };\nvar _c;\n$RefreshReg$(_c, \"DoohFinder\");\n        window.$RefreshReg$ = prevRefreshReg;\n        window.$RefreshSig$ = prevRefreshSig;\n      ", "\n        if (!window.$RefreshReg$ || !window.$RefreshSig$ || !window.$RefreshRuntime$) {\n          console.warn('remix:hmr: React Fast Refresh only works when the Remix compiler is running in development mode.');\n        } else {\n          var prevRefreshReg = window.$RefreshReg$;\n          var prevRefreshSig = window.$RefreshSig$;\n          window.$RefreshReg$ = (type, id) => {\n            window.$RefreshRuntime$.register(type, \"\\\"app/components/cluster-map/ClusterMap.tsx\\\"\" + id);\n          }\n          window.$RefreshSig$ = window.$RefreshRuntime$.createSignatureFunctionForTransform;\n        }\n      var _s = $RefreshSig$();\nimport { jsx } from \"react/jsx-runtime\";\nimport * as __hmr__ from \"remix:hmr\";\nif (import.meta) {\n  import.meta.hot = __hmr__.createHotContext(\n  //@ts-expect-error\n  \"app/components/cluster-map/ClusterMap.tsx\");\n  import.meta.hot.lastModified = \"1689133038451.8657\";\n}\nimport { useEffect, useRef, useState } from \"react\";\nimport Supercluster from \"supercluster\";\nimport Map from \"react-map-gl\";\nimport { MarkerPin } from \"./MarkerPin\";\nimport { ClusterPin } from \"./ClusterPin\";\nimport { MAP_ORIGIN, MAP_STYLE, MAP_MAX_ZOOM_DEFAULT, MAP_ZOOM_DEFAULT, MAP_BOUND_DEFAULT, MAP_CLUSTER_RADIUS_DEFAULT } from \"./constants\";\nconst superCluster = new Supercluster({\n  radius: MAP_CLUSTER_RADIUS_DEFAULT,\n  maxZoom: MAP_MAX_ZOOM_DEFAULT\n});\nconst ClusterMap = ({\n  token,\n  points,\n  onMarkerClick,\n  onClusterMakerClick,\n  ...mapBoxProps\n}) => {\n  _s();\n  const mapRef = useRef(null);\n  const [viewport, setViewport] = useState({\n    latitude: MAP_ORIGIN.latitude,\n    longitude: MAP_ORIGIN.longitude,\n    zoom: MAP_ZOOM_DEFAULT\n  });\n  const [clusters, setClusters] = useState([]);\n  const [bounds, setBounds] = useState(MAP_BOUND_DEFAULT);\n  const [zoom, setZoom] = useState(MAP_ZOOM_DEFAULT);\n  useEffect(() => {\n    superCluster.load(points);\n    setClusters(superCluster.getClusters(bounds, zoom));\n  }, [points, bounds, zoom]);\n  useEffect(() => {\n    if (!mapRef.current) return;\n    setBounds(mapRef.current.getMap().getBounds().toArray().flat());\n  }, []);\n  return /* @__PURE__ */jsx(\"div\", {\n    style: {\n      position: \"relative\"\n    },\n    children: /* @__PURE__ */jsx(Map, {\n      initialViewState: viewport,\n      maxZoom: MAP_MAX_ZOOM_DEFAULT,\n      mapStyle: MAP_STYLE,\n      mapboxAccessToken: token,\n      style: {\n        width: \"100%\",\n        height: \"calc(100vh - 80px)\"\n      },\n      onZoomEnd: e => setZoom(e.viewState.zoom),\n      ref: mapRef,\n      \"data-test-id\": \"cluster-map\",\n      ...mapBoxProps,\n      children: clusters.map(cluster => {\n        const {\n          cluster: isCluster,\n          point_count\n        } = cluster.properties;\n        const [longitude, latitude] = cluster.geometry.coordinates;\n        if (isCluster) {\n          return /* @__PURE__ */jsx(ClusterPin, {\n            longitude,\n            latitude,\n            pointCount: point_count,\n            onClusterPinClick: () => {\n              const zoom2 = Math.min(superCluster?.getClusterExpansionZoom(cluster.id), MAP_MAX_ZOOM_DEFAULT);\n              mapRef.current?.flyTo({\n                center: [longitude, latitude],\n                zoom: zoom2,\n                speed: 1\n              });\n              if (zoom2 > 17 && cluster.id) {\n                const clusterPins = superCluster?.getChildren(+cluster.id);\n                onClusterMakerClick?.(clusterPins ?? []);\n              }\n            }\n          }, cluster.properties.siteId);\n        }\n        return /* @__PURE__ */jsx(MarkerPin, {\n          data: cluster,\n          onMarkerClick\n        }, cluster.properties.siteId);\n      })\n    })\n  });\n};\n_s(ClusterMap, \"WKltjZS87XYEZ+TMDVtWSZGcRIQ=\");\n_c = ClusterMap;\nexport { ClusterMap };\nvar _c;\n$RefreshReg$(_c, \"ClusterMap\");\n        window.$RefreshReg$ = prevRefreshReg;\n        window.$RefreshSig$ = prevRefreshSig;\n      ", "\nconst ARRAY_TYPES = [\n    Int8Array, Uint8Array, Uint8ClampedArray, Int16Array, Uint16Array,\n    Int32Array, Uint32Array, Float32Array, Float64Array\n];\n\n/** @typedef {Int8ArrayConstructor | Uint8ArrayConstructor | Uint8ClampedArrayConstructor | Int16ArrayConstructor | Uint16ArrayConstructor | Int32ArrayConstructor | Uint32ArrayConstructor | Float32ArrayConstructor | Float64ArrayConstructor} TypedArrayConstructor */\n\nconst VERSION = 1; // serialized format version\nconst HEADER_SIZE = 8;\n\nexport default class KDBush {\n\n    /**\n     * Creates an index from raw `ArrayBuffer` data.\n     * @param {ArrayBuffer} data\n     */\n    static from(data) {\n        if (!(data instanceof ArrayBuffer)) {\n            throw new Error('Data must be an instance of ArrayBuffer.');\n        }\n        const [magic, versionAndType] = new Uint8Array(data, 0, 2);\n        if (magic !== 0xdb) {\n            throw new Error('Data does not appear to be in a KDBush format.');\n        }\n        const version = versionAndType >> 4;\n        if (version !== VERSION) {\n            throw new Error(`Got v${version} data when expected v${VERSION}.`);\n        }\n        const ArrayType = ARRAY_TYPES[versionAndType & 0x0f];\n        if (!ArrayType) {\n            throw new Error('Unrecognized array type.');\n        }\n        const [nodeSize] = new Uint16Array(data, 2, 1);\n        const [numItems] = new Uint32Array(data, 4, 1);\n\n        return new KDBush(numItems, nodeSize, ArrayType, data);\n    }\n\n    /**\n     * Creates an index that will hold a given number of items.\n     * @param {number} numItems\n     * @param {number} [nodeSize=64] Size of the KD-tree node (64 by default).\n     * @param {TypedArrayConstructor} [ArrayType=Float64Array] The array type used for coordinates storage (`Float64Array` by default).\n     * @param {ArrayBuffer} [data] (For internal use only)\n     */\n    constructor(numItems, nodeSize = 64, ArrayType = Float64Array, data) {\n        if (isNaN(numItems) || numItems < 0) throw new Error(`Unpexpected numItems value: ${numItems}.`);\n\n        this.numItems = +numItems;\n        this.nodeSize = Math.min(Math.max(+nodeSize, 2), 65535);\n        this.ArrayType = ArrayType;\n        this.IndexArrayType = numItems < 65536 ? Uint16Array : Uint32Array;\n\n        const arrayTypeIndex = ARRAY_TYPES.indexOf(this.ArrayType);\n        const coordsByteSize = numItems * 2 * this.ArrayType.BYTES_PER_ELEMENT;\n        const idsByteSize = numItems * this.IndexArrayType.BYTES_PER_ELEMENT;\n        const padCoords = (8 - idsByteSize % 8) % 8;\n\n        if (arrayTypeIndex < 0) {\n            throw new Error(`Unexpected typed array class: ${ArrayType}.`);\n        }\n\n        if (data && (data instanceof ArrayBuffer)) { // reconstruct an index from a buffer\n            this.data = data;\n            this.ids = new this.IndexArrayType(this.data, HEADER_SIZE, numItems);\n            this.coords = new this.ArrayType(this.data, HEADER_SIZE + idsByteSize + padCoords, numItems * 2);\n            this._pos = numItems * 2;\n            this._finished = true;\n        } else { // initialize a new index\n            this.data = new ArrayBuffer(HEADER_SIZE + coordsByteSize + idsByteSize + padCoords);\n            this.ids = new this.IndexArrayType(this.data, HEADER_SIZE, numItems);\n            this.coords = new this.ArrayType(this.data, HEADER_SIZE + idsByteSize + padCoords, numItems * 2);\n            this._pos = 0;\n            this._finished = false;\n\n            // set header\n            new Uint8Array(this.data, 0, 2).set([0xdb, (VERSION << 4) + arrayTypeIndex]);\n            new Uint16Array(this.data, 2, 1)[0] = nodeSize;\n            new Uint32Array(this.data, 4, 1)[0] = numItems;\n        }\n    }\n\n    /**\n     * Add a point to the index.\n     * @param {number} x\n     * @param {number} y\n     * @returns {number} An incremental index associated with the added item (starting from `0`).\n     */\n    add(x, y) {\n        const index = this._pos >> 1;\n        this.ids[index] = index;\n        this.coords[this._pos++] = x;\n        this.coords[this._pos++] = y;\n        return index;\n    }\n\n    /**\n     * Perform indexing of the added points.\n     */\n    finish() {\n        const numAdded = this._pos >> 1;\n        if (numAdded !== this.numItems) {\n            throw new Error(`Added ${numAdded} items when expected ${this.numItems}.`);\n        }\n        // kd-sort both arrays for efficient search\n        sort(this.ids, this.coords, this.nodeSize, 0, this.numItems - 1, 0);\n\n        this._finished = true;\n        return this;\n    }\n\n    /**\n     * Search the index for items within a given bounding box.\n     * @param {number} minX\n     * @param {number} minY\n     * @param {number} maxX\n     * @param {number} maxY\n     * @returns {number[]} An array of indices correponding to the found items.\n     */\n    range(minX, minY, maxX, maxY) {\n        if (!this._finished) throw new Error('Data not yet indexed - call index.finish().');\n\n        const {ids, coords, nodeSize} = this;\n        const stack = [0, ids.length - 1, 0];\n        const result = [];\n\n        // recursively search for items in range in the kd-sorted arrays\n        while (stack.length) {\n            const axis = stack.pop() || 0;\n            const right = stack.pop() || 0;\n            const left = stack.pop() || 0;\n\n            // if we reached \"tree node\", search linearly\n            if (right - left <= nodeSize) {\n                for (let i = left; i <= right; i++) {\n                    const x = coords[2 * i];\n                    const y = coords[2 * i + 1];\n                    if (x >= minX && x <= maxX && y >= minY && y <= maxY) result.push(ids[i]);\n                }\n                continue;\n            }\n\n            // otherwise find the middle index\n            const m = (left + right) >> 1;\n\n            // include the middle item if it's in range\n            const x = coords[2 * m];\n            const y = coords[2 * m + 1];\n            if (x >= minX && x <= maxX && y >= minY && y <= maxY) result.push(ids[m]);\n\n            // queue search in halves that intersect the query\n            if (axis === 0 ? minX <= x : minY <= y) {\n                stack.push(left);\n                stack.push(m - 1);\n                stack.push(1 - axis);\n            }\n            if (axis === 0 ? maxX >= x : maxY >= y) {\n                stack.push(m + 1);\n                stack.push(right);\n                stack.push(1 - axis);\n            }\n        }\n\n        return result;\n    }\n\n    /**\n     * Search the index for items within a given radius.\n     * @param {number} qx\n     * @param {number} qy\n     * @param {number} r Query radius.\n     * @returns {number[]} An array of indices correponding to the found items.\n     */\n    within(qx, qy, r) {\n        if (!this._finished) throw new Error('Data not yet indexed - call index.finish().');\n\n        const {ids, coords, nodeSize} = this;\n        const stack = [0, ids.length - 1, 0];\n        const result = [];\n        const r2 = r * r;\n\n        // recursively search for items within radius in the kd-sorted arrays\n        while (stack.length) {\n            const axis = stack.pop() || 0;\n            const right = stack.pop() || 0;\n            const left = stack.pop() || 0;\n\n            // if we reached \"tree node\", search linearly\n            if (right - left <= nodeSize) {\n                for (let i = left; i <= right; i++) {\n                    if (sqDist(coords[2 * i], coords[2 * i + 1], qx, qy) <= r2) result.push(ids[i]);\n                }\n                continue;\n            }\n\n            // otherwise find the middle index\n            const m = (left + right) >> 1;\n\n            // include the middle item if it's in range\n            const x = coords[2 * m];\n            const y = coords[2 * m + 1];\n            if (sqDist(x, y, qx, qy) <= r2) result.push(ids[m]);\n\n            // queue search in halves that intersect the query\n            if (axis === 0 ? qx - r <= x : qy - r <= y) {\n                stack.push(left);\n                stack.push(m - 1);\n                stack.push(1 - axis);\n            }\n            if (axis === 0 ? qx + r >= x : qy + r >= y) {\n                stack.push(m + 1);\n                stack.push(right);\n                stack.push(1 - axis);\n            }\n        }\n\n        return result;\n    }\n}\n\n/**\n * @param {Uint16Array | Uint32Array} ids\n * @param {InstanceType<TypedArrayConstructor>} coords\n * @param {number} nodeSize\n * @param {number} left\n * @param {number} right\n * @param {number} axis\n */\nfunction sort(ids, coords, nodeSize, left, right, axis) {\n    if (right - left <= nodeSize) return;\n\n    const m = (left + right) >> 1; // middle index\n\n    // sort ids and coords around the middle index so that the halves lie\n    // either left/right or top/bottom correspondingly (taking turns)\n    select(ids, coords, m, left, right, axis);\n\n    // recursively kd-sort first half and second half on the opposite axis\n    sort(ids, coords, nodeSize, left, m - 1, 1 - axis);\n    sort(ids, coords, nodeSize, m + 1, right, 1 - axis);\n}\n\n/**\n * Custom Floyd-Rivest selection algorithm: sort ids and coords so that\n * [left..k-1] items are smaller than k-th item (on either x or y axis)\n * @param {Uint16Array | Uint32Array} ids\n * @param {InstanceType<TypedArrayConstructor>} coords\n * @param {number} k\n * @param {number} left\n * @param {number} right\n * @param {number} axis\n */\nfunction select(ids, coords, k, left, right, axis) {\n\n    while (right > left) {\n        if (right - left > 600) {\n            const n = right - left + 1;\n            const m = k - left + 1;\n            const z = Math.log(n);\n            const s = 0.5 * Math.exp(2 * z / 3);\n            const sd = 0.5 * Math.sqrt(z * s * (n - s) / n) * (m - n / 2 < 0 ? -1 : 1);\n            const newLeft = Math.max(left, Math.floor(k - m * s / n + sd));\n            const newRight = Math.min(right, Math.floor(k + (n - m) * s / n + sd));\n            select(ids, coords, k, newLeft, newRight, axis);\n        }\n\n        const t = coords[2 * k + axis];\n        let i = left;\n        let j = right;\n\n        swapItem(ids, coords, left, k);\n        if (coords[2 * right + axis] > t) swapItem(ids, coords, left, right);\n\n        while (i < j) {\n            swapItem(ids, coords, i, j);\n            i++;\n            j--;\n            while (coords[2 * i + axis] < t) i++;\n            while (coords[2 * j + axis] > t) j--;\n        }\n\n        if (coords[2 * left + axis] === t) swapItem(ids, coords, left, j);\n        else {\n            j++;\n            swapItem(ids, coords, j, right);\n        }\n\n        if (j <= k) left = j + 1;\n        if (k <= j) right = j - 1;\n    }\n}\n\n/**\n * @param {Uint16Array | Uint32Array} ids\n * @param {InstanceType<TypedArrayConstructor>} coords\n * @param {number} i\n * @param {number} j\n */\nfunction swapItem(ids, coords, i, j) {\n    swap(ids, i, j);\n    swap(coords, 2 * i, 2 * j);\n    swap(coords, 2 * i + 1, 2 * j + 1);\n}\n\n/**\n * @param {InstanceType<TypedArrayConstructor>} arr\n * @param {number} i\n * @param {number} j\n */\nfunction swap(arr, i, j) {\n    const tmp = arr[i];\n    arr[i] = arr[j];\n    arr[j] = tmp;\n}\n\n/**\n * @param {number} ax\n * @param {number} ay\n * @param {number} bx\n * @param {number} by\n */\nfunction sqDist(ax, ay, bx, by) {\n    const dx = ax - bx;\n    const dy = ay - by;\n    return dx * dx + dy * dy;\n}\n", "\nimport KDBush from 'kdbush';\n\nconst defaultOptions = {\n    minZoom: 0,   // min zoom to generate clusters on\n    maxZoom: 16,  // max zoom level to cluster the points on\n    minPoints: 2, // minimum points to form a cluster\n    radius: 40,   // cluster radius in pixels\n    extent: 512,  // tile extent (radius is calculated relative to it)\n    nodeSize: 64, // size of the KD-tree leaf node, affects performance\n    log: false,   // whether to log timing info\n\n    // whether to generate numeric ids for input features (in vector tiles)\n    generateId: false,\n\n    // a reduce function for calculating custom cluster properties\n    reduce: null, // (accumulated, props) => { accumulated.sum += props.sum; }\n\n    // properties to use for individual points when running the reducer\n    map: props => props // props => ({sum: props.my_value})\n};\n\nconst fround = Math.fround || (tmp => ((x) => { tmp[0] = +x; return tmp[0]; }))(new Float32Array(1));\n\nconst OFFSET_ZOOM = 2;\nconst OFFSET_ID = 3;\nconst OFFSET_PARENT = 4;\nconst OFFSET_NUM = 5;\nconst OFFSET_PROP = 6;\n\nexport default class Supercluster {\n    constructor(options) {\n        this.options = Object.assign(Object.create(defaultOptions), options);\n        this.trees = new Array(this.options.maxZoom + 1);\n        this.stride = this.options.reduce ? 7 : 6;\n        this.clusterProps = [];\n    }\n\n    load(points) {\n        const {log, minZoom, maxZoom} = this.options;\n\n        if (log) console.time('total time');\n\n        const timerId = `prepare ${  points.length  } points`;\n        if (log) console.time(timerId);\n\n        this.points = points;\n\n        // generate a cluster object for each point and index input points into a KD-tree\n        const data = [];\n\n        for (let i = 0; i < points.length; i++) {\n            const p = points[i];\n            if (!p.geometry) continue;\n\n            const [lng, lat] = p.geometry.coordinates;\n            const x = fround(lngX(lng));\n            const y = fround(latY(lat));\n            // store internal point/cluster data in flat numeric arrays for performance\n            data.push(\n                x, y, // projected point coordinates\n                Infinity, // the last zoom the point was processed at\n                i, // index of the source feature in the original input array\n                -1, // parent cluster id\n                1 // number of points in a cluster\n            );\n            if (this.options.reduce) data.push(0); // noop\n        }\n        let tree = this.trees[maxZoom + 1] = this._createTree(data);\n\n        if (log) console.timeEnd(timerId);\n\n        // cluster points on max zoom, then cluster the results on previous zoom, etc.;\n        // results in a cluster hierarchy across zoom levels\n        for (let z = maxZoom; z >= minZoom; z--) {\n            const now = +Date.now();\n\n            // create a new set of clusters for the zoom and index them with a KD-tree\n            tree = this.trees[z] = this._createTree(this._cluster(tree, z));\n\n            if (log) console.log('z%d: %d clusters in %dms', z, tree.numItems, +Date.now() - now);\n        }\n\n        if (log) console.timeEnd('total time');\n\n        return this;\n    }\n\n    getClusters(bbox, zoom) {\n        let minLng = ((bbox[0] + 180) % 360 + 360) % 360 - 180;\n        const minLat = Math.max(-90, Math.min(90, bbox[1]));\n        let maxLng = bbox[2] === 180 ? 180 : ((bbox[2] + 180) % 360 + 360) % 360 - 180;\n        const maxLat = Math.max(-90, Math.min(90, bbox[3]));\n\n        if (bbox[2] - bbox[0] >= 360) {\n            minLng = -180;\n            maxLng = 180;\n        } else if (minLng > maxLng) {\n            const easternHem = this.getClusters([minLng, minLat, 180, maxLat], zoom);\n            const westernHem = this.getClusters([-180, minLat, maxLng, maxLat], zoom);\n            return easternHem.concat(westernHem);\n        }\n\n        const tree = this.trees[this._limitZoom(zoom)];\n        const ids = tree.range(lngX(minLng), latY(maxLat), lngX(maxLng), latY(minLat));\n        const data = tree.data;\n        const clusters = [];\n        for (const id of ids) {\n            const k = this.stride * id;\n            clusters.push(data[k + OFFSET_NUM] > 1 ? getClusterJSON(data, k, this.clusterProps) : this.points[data[k + OFFSET_ID]]);\n        }\n        return clusters;\n    }\n\n    getChildren(clusterId) {\n        const originId = this._getOriginId(clusterId);\n        const originZoom = this._getOriginZoom(clusterId);\n        const errorMsg = 'No cluster with the specified id.';\n\n        const tree = this.trees[originZoom];\n        if (!tree) throw new Error(errorMsg);\n\n        const data = tree.data;\n        if (originId * this.stride >= data.length) throw new Error(errorMsg);\n\n        const r = this.options.radius / (this.options.extent * Math.pow(2, originZoom - 1));\n        const x = data[originId * this.stride];\n        const y = data[originId * this.stride + 1];\n        const ids = tree.within(x, y, r);\n        const children = [];\n        for (const id of ids) {\n            const k = id * this.stride;\n            if (data[k + OFFSET_PARENT] === clusterId) {\n                children.push(data[k + OFFSET_NUM] > 1 ? getClusterJSON(data, k, this.clusterProps) : this.points[data[k + OFFSET_ID]]);\n            }\n        }\n\n        if (children.length === 0) throw new Error(errorMsg);\n\n        return children;\n    }\n\n    getLeaves(clusterId, limit, offset) {\n        limit = limit || 10;\n        offset = offset || 0;\n\n        const leaves = [];\n        this._appendLeaves(leaves, clusterId, limit, offset, 0);\n\n        return leaves;\n    }\n\n    getTile(z, x, y) {\n        const tree = this.trees[this._limitZoom(z)];\n        const z2 = Math.pow(2, z);\n        const {extent, radius} = this.options;\n        const p = radius / extent;\n        const top = (y - p) / z2;\n        const bottom = (y + 1 + p) / z2;\n\n        const tile = {\n            features: []\n        };\n\n        this._addTileFeatures(\n            tree.range((x - p) / z2, top, (x + 1 + p) / z2, bottom),\n            tree.data, x, y, z2, tile);\n\n        if (x === 0) {\n            this._addTileFeatures(\n                tree.range(1 - p / z2, top, 1, bottom),\n                tree.data, z2, y, z2, tile);\n        }\n        if (x === z2 - 1) {\n            this._addTileFeatures(\n                tree.range(0, top, p / z2, bottom),\n                tree.data, -1, y, z2, tile);\n        }\n\n        return tile.features.length ? tile : null;\n    }\n\n    getClusterExpansionZoom(clusterId) {\n        let expansionZoom = this._getOriginZoom(clusterId) - 1;\n        while (expansionZoom <= this.options.maxZoom) {\n            const children = this.getChildren(clusterId);\n            expansionZoom++;\n            if (children.length !== 1) break;\n            clusterId = children[0].properties.cluster_id;\n        }\n        return expansionZoom;\n    }\n\n    _appendLeaves(result, clusterId, limit, offset, skipped) {\n        const children = this.getChildren(clusterId);\n\n        for (const child of children) {\n            const props = child.properties;\n\n            if (props && props.cluster) {\n                if (skipped + props.point_count <= offset) {\n                    // skip the whole cluster\n                    skipped += props.point_count;\n                } else {\n                    // enter the cluster\n                    skipped = this._appendLeaves(result, props.cluster_id, limit, offset, skipped);\n                    // exit the cluster\n                }\n            } else if (skipped < offset) {\n                // skip a single point\n                skipped++;\n            } else {\n                // add a single point\n                result.push(child);\n            }\n            if (result.length === limit) break;\n        }\n\n        return skipped;\n    }\n\n    _createTree(data) {\n        const tree = new KDBush(data.length / this.stride | 0, this.options.nodeSize, Float32Array);\n        for (let i = 0; i < data.length; i += this.stride) tree.add(data[i], data[i + 1]);\n        tree.finish();\n        tree.data = data;\n        return tree;\n    }\n\n    _addTileFeatures(ids, data, x, y, z2, tile) {\n        for (const i of ids) {\n            const k = i * this.stride;\n            const isCluster = data[k + OFFSET_NUM] > 1;\n\n            let tags, px, py;\n            if (isCluster) {\n                tags = getClusterProperties(data, k, this.clusterProps);\n                px = data[k];\n                py = data[k + 1];\n            } else {\n                const p = this.points[data[k + OFFSET_ID]];\n                tags = p.properties;\n                const [lng, lat] = p.geometry.coordinates;\n                px = lngX(lng);\n                py = latY(lat);\n            }\n\n            const f = {\n                type: 1,\n                geometry: [[\n                    Math.round(this.options.extent * (px * z2 - x)),\n                    Math.round(this.options.extent * (py * z2 - y))\n                ]],\n                tags\n            };\n\n            // assign id\n            let id;\n            if (isCluster || this.options.generateId) {\n                // optionally generate id for points\n                id = data[k + OFFSET_ID];\n            } else {\n                // keep id if already assigned\n                id = this.points[data[k + OFFSET_ID]].id;\n            }\n\n            if (id !== undefined) f.id = id;\n\n            tile.features.push(f);\n        }\n    }\n\n    _limitZoom(z) {\n        return Math.max(this.options.minZoom, Math.min(Math.floor(+z), this.options.maxZoom + 1));\n    }\n\n    _cluster(tree, zoom) {\n        const {radius, extent, reduce, minPoints} = this.options;\n        const r = radius / (extent * Math.pow(2, zoom));\n        const data = tree.data;\n        const nextData = [];\n        const stride = this.stride;\n\n        // loop through each point\n        for (let i = 0; i < data.length; i += stride) {\n            // if we've already visited the point at this zoom level, skip it\n            if (data[i + OFFSET_ZOOM] <= zoom) continue;\n            data[i + OFFSET_ZOOM] = zoom;\n\n            // find all nearby points\n            const x = data[i];\n            const y = data[i + 1];\n            const neighborIds = tree.within(data[i], data[i + 1], r);\n\n            const numPointsOrigin = data[i + OFFSET_NUM];\n            let numPoints = numPointsOrigin;\n\n            // count the number of points in a potential cluster\n            for (const neighborId of neighborIds) {\n                const k = neighborId * stride;\n                // filter out neighbors that are already processed\n                if (data[k + OFFSET_ZOOM] > zoom) numPoints += data[k + OFFSET_NUM];\n            }\n\n            // if there were neighbors to merge, and there are enough points to form a cluster\n            if (numPoints > numPointsOrigin && numPoints >= minPoints) {\n                let wx = x * numPointsOrigin;\n                let wy = y * numPointsOrigin;\n\n                let clusterProperties;\n                let clusterPropIndex = -1;\n\n                // encode both zoom and point index on which the cluster originated -- offset by total length of features\n                const id = ((i / stride | 0) << 5) + (zoom + 1) + this.points.length;\n\n                for (const neighborId of neighborIds) {\n                    const k = neighborId * stride;\n\n                    if (data[k + OFFSET_ZOOM] <= zoom) continue;\n                    data[k + OFFSET_ZOOM] = zoom; // save the zoom (so it doesn't get processed twice)\n\n                    const numPoints2 = data[k + OFFSET_NUM];\n                    wx += data[k] * numPoints2; // accumulate coordinates for calculating weighted center\n                    wy += data[k + 1] * numPoints2;\n\n                    data[k + OFFSET_PARENT] = id;\n\n                    if (reduce) {\n                        if (!clusterProperties) {\n                            clusterProperties = this._map(data, i, true);\n                            clusterPropIndex = this.clusterProps.length;\n                            this.clusterProps.push(clusterProperties);\n                        }\n                        reduce(clusterProperties, this._map(data, k));\n                    }\n                }\n\n                data[i + OFFSET_PARENT] = id;\n                nextData.push(wx / numPoints, wy / numPoints, Infinity, id, -1, numPoints);\n                if (reduce) nextData.push(clusterPropIndex);\n\n            } else { // left points as unclustered\n                for (let j = 0; j < stride; j++) nextData.push(data[i + j]);\n\n                if (numPoints > 1) {\n                    for (const neighborId of neighborIds) {\n                        const k = neighborId * stride;\n                        if (data[k + OFFSET_ZOOM] <= zoom) continue;\n                        data[k + OFFSET_ZOOM] = zoom;\n                        for (let j = 0; j < stride; j++) nextData.push(data[k + j]);\n                    }\n                }\n            }\n        }\n\n        return nextData;\n    }\n\n    // get index of the point from which the cluster originated\n    _getOriginId(clusterId) {\n        return (clusterId - this.points.length) >> 5;\n    }\n\n    // get zoom of the point from which the cluster originated\n    _getOriginZoom(clusterId) {\n        return (clusterId - this.points.length) % 32;\n    }\n\n    _map(data, i, clone) {\n        if (data[i + OFFSET_NUM] > 1) {\n            const props = this.clusterProps[data[i + OFFSET_PROP]];\n            return clone ? Object.assign({}, props) : props;\n        }\n        const original = this.points[data[i + OFFSET_ID]].properties;\n        const result = this.options.map(original);\n        return clone && result === original ? Object.assign({}, result) : result;\n    }\n}\n\nfunction getClusterJSON(data, i, clusterProps) {\n    return {\n        type: 'Feature',\n        id: data[i + OFFSET_ID],\n        properties: getClusterProperties(data, i, clusterProps),\n        geometry: {\n            type: 'Point',\n            coordinates: [xLng(data[i]), yLat(data[i + 1])]\n        }\n    };\n}\n\nfunction getClusterProperties(data, i, clusterProps) {\n    const count = data[i + OFFSET_NUM];\n    const abbrev =\n        count >= 10000 ? `${Math.round(count / 1000)  }k` :\n        count >= 1000 ? `${Math.round(count / 100) / 10  }k` : count;\n    const propIndex = data[i + OFFSET_PROP];\n    const properties = propIndex === -1 ? {} : Object.assign({}, clusterProps[propIndex]);\n    return Object.assign(properties, {\n        cluster: true,\n        cluster_id: data[i + OFFSET_ID],\n        point_count: count,\n        point_count_abbreviated: abbrev\n    });\n}\n\n// longitude/latitude to spherical mercator in [0..1] range\nfunction lngX(lng) {\n    return lng / 360 + 0.5;\n}\nfunction latY(lat) {\n    const sin = Math.sin(lat * Math.PI / 180);\n    const y = (0.5 - 0.25 * Math.log((1 + sin) / (1 - sin)) / Math.PI);\n    return y < 0 ? 0 : y > 1 ? 1 : y;\n}\n\n// spherical mercator to longitude/latitude\nfunction xLng(x) {\n    return (x - 0.5) * 360;\n}\nfunction yLat(y) {\n    const y2 = (180 - y * 360) * Math.PI / 180;\n    return 360 * Math.atan(Math.exp(y2)) / Math.PI - 90;\n}\n", "import * as React from 'react';\nimport type {\n  Map as MapboxMap,\n  MapboxOptions,\n  Marker as MapboxMarker,\n  MarkerOptions,\n  Popup as MapboxPopup,\n  PopupOptions,\n  AttributionControl as MapboxAttributionControl,\n  FullscreenControl as MapboxFullscreenControl,\n  GeolocateControl as MapboxGeolocateControl,\n  NavigationControl as MapboxNavigationControl,\n  ScaleControl as MapboxScaleControl\n} from 'mapbox-gl';\n\nimport {default as _Map, MapProps as _MapProps} from './components/map';\nimport {default as _Marker, MarkerProps as _MarkerProps} from './components/marker';\nimport {default as _Popup, PopupProps as _PopupProps} from './components/popup';\nimport {\n  default as _AttributionControl,\n  AttributionControlProps as _AttributionControlProps\n} from './components/attribution-control';\nimport {\n  default as _FullscreenControl,\n  FullscreenControlProps as _FullscreenControlProps\n} from './components/fullscreen-control';\nimport {\n  default as _GeolocateControl,\n  GeolocateControlProps as _GeolocateControlProps\n} from './components/geolocate-control';\nimport {\n  default as _NavigationControl,\n  NavigationControlProps as _NavigationControlProps\n} from './components/navigation-control';\nimport {\n  default as _ScaleControl,\n  ScaleControlProps as _ScaleControlProps\n} from './components/scale-control';\nimport {useMap as _useMap} from './components/use-map';\nimport type {MapRef as _MapRef} from './mapbox/create-ref';\nimport type * as events from './types/events';\n\nexport function useMap() {\n  return _useMap<MapboxMap>();\n}\n\nexport type MapProps = _MapProps<MapboxOptions, MapboxMap>;\nexport type MapRef = _MapRef<MapboxMap>;\nconst mapLib = import('mapbox-gl');\nexport const Map = (() => {\n  return React.forwardRef(function Map(props: MapProps, ref: React.Ref<MapRef>) {\n    return _Map(props, ref, mapLib);\n  });\n})();\n\nexport type MarkerProps = _MarkerProps<MarkerOptions, MapboxMarker>;\nexport const Marker = _Marker as (\n  props: MarkerProps & React.RefAttributes<MapboxMarker>\n) => React.ReactElement | null;\n\nexport type PopupProps = _PopupProps<PopupOptions, MapboxPopup>;\nexport const Popup = _Popup as (\n  props: PopupProps & React.RefAttributes<MapboxPopup>\n) => React.ReactElement | null;\n\ntype AttributionControlOptions = ConstructorParameters<typeof MapboxAttributionControl>[0];\nexport type AttributionControlProps = _AttributionControlProps<AttributionControlOptions>;\nexport const AttributionControl = _AttributionControl as (\n  props: AttributionControlProps\n) => React.ReactElement | null;\n\ntype FullscreenControlOptions = ConstructorParameters<typeof MapboxFullscreenControl>[0];\nexport type FullscreenControlProps = _FullscreenControlProps<FullscreenControlOptions>;\nexport const FullscreenControl = _FullscreenControl as (\n  props: FullscreenControlProps\n) => React.ReactElement | null;\n\ntype NavigationControlOptions = ConstructorParameters<typeof MapboxNavigationControl>[0];\nexport type NavigationControlProps = _NavigationControlProps<NavigationControlOptions>;\nexport const NavigationControl = _NavigationControl as (\n  props: NavigationControlProps\n) => React.ReactElement | null;\n\ntype GeolocateControlOptions = ConstructorParameters<typeof MapboxGeolocateControl>[0];\nexport type GeolocateControlProps = _GeolocateControlProps<\n  GeolocateControlOptions,\n  MapboxGeolocateControl\n>;\nexport const GeolocateControl = _GeolocateControl as (\n  props: GeolocateControlProps & React.RefAttributes<MapboxGeolocateControl>\n) => React.ReactElement | null;\n\ntype ScaleControlOptions = ConstructorParameters<typeof MapboxScaleControl>[0];\nexport type ScaleControlProps = _ScaleControlProps<ScaleControlOptions>;\nexport const ScaleControl = _ScaleControl as (\n  props: ScaleControlProps\n) => React.ReactElement | null;\n\nexport {default as Source} from './components/source';\nexport {default as Layer} from './components/layer';\nexport {default as useControl} from './components/use-control';\nexport {MapProvider} from './components/use-map';\n\nexport default Map;\n\n// Types\nexport * from './types/public';\nexport type {SourceProps} from './components/source';\nexport type {LayerProps} from './components/layer';\n\n// Events\nexport type MapEvent = events.MapEvent<MapboxMap>;\nexport type ErrorEvent = events.ErrorEvent<MapboxMap>;\nexport type MapStyleDataEvent = events.MapStyleDataEvent<MapboxMap>;\nexport type MapSourceDataEvent = events.MapSourceDataEvent<MapboxMap>;\nexport type MapMouseEvent = events.MapMouseEvent<MapboxMap>;\nexport type MapLayerMouseEvent = events.MapLayerMouseEvent<MapboxMap>;\nexport type MapTouchEvent = events.MapTouchEvent<MapboxMap>;\nexport type MapLayerTouchEvent = events.MapLayerTouchEvent<MapboxMap>;\nexport type MapWheelEvent = events.MapWheelEvent<MapboxMap>;\nexport type MapBoxZoomEvent = events.MapBoxZoomEvent<MapboxMap>;\nexport type ViewStateChangeEvent = events.ViewStateChangeEvent<MapboxMap>;\nexport type PopupEvent = events.PopupEvent<MapboxPopup>;\nexport type MarkerEvent = events.MarkerEvent<MapboxMarker>;\nexport type MarkerDragEvent = events.MarkerDragEvent<MapboxMarker>;\nexport type GeolocateEvent = events.GeolocateEvent<MapboxGeolocateControl>;\nexport type GeolocateResultEvent = events.GeolocateResultEvent<MapboxGeolocateControl>;\nexport type GeolocateErrorEvent = events.GeolocateErrorEvent<MapboxGeolocateControl>;\n", "import * as React from 'react';\nimport {useState, useRef, useEffect, useContext, useMemo, useImperativeHandle} from 'react';\n\nimport {MountedMapsContext} from './use-map';\nimport Mapbox, {MapboxProps} from '../mapbox/mapbox';\nimport createRef, {MapRef} from '../mapbox/create-ref';\n\nimport type {CSSProperties} from 'react';\nimport useIsomorphicLayoutEffect from '../utils/use-isomorphic-layout-effect';\nimport setGlobals, {GlobalSettings} from '../utils/set-globals';\nimport type {MapLib, MapInstance} from '../types';\n\nexport type MapContextValue<MapT extends MapInstance = MapInstance> = {\n  mapLib: MapLib<MapT>;\n  map: MapRef<MapT>;\n};\n\nexport const MapContext = React.createContext<MapContextValue>(null);\n\ntype MapInitOptions<MapOptions> = Omit<\n  MapOptions,\n  'style' | 'container' | 'bounds' | 'fitBoundsOptions' | 'center'\n>;\n\nexport type MapProps<MapOptions, MapT extends MapInstance> = MapInitOptions<MapOptions> &\n  MapboxProps<MapT> &\n  GlobalSettings & {\n    mapLib?: MapLib<MapT> | Promise<MapLib<MapT>>;\n    reuseMaps?: boolean;\n    /** Map container id */\n    id?: string;\n    /** Map container CSS style */\n    style?: CSSProperties;\n    children?: any;\n  };\n\nexport default function Map<MapOptions, MapT extends MapInstance>(\n  props: MapProps<MapOptions, MapT>,\n  ref: React.Ref<MapRef<MapT>>,\n  defaultLib: MapLib<MapT> | Promise<MapLib<MapT>>\n) {\n  const mountedMapsContext = useContext(MountedMapsContext);\n  const [mapInstance, setMapInstance] = useState<Mapbox<MapT>>(null);\n  const containerRef = useRef();\n\n  const {current: contextValue} = useRef<MapContextValue<MapT>>({mapLib: null, map: null});\n\n  useEffect(() => {\n    const mapLib = props.mapLib;\n    let isMounted = true;\n    let mapbox: Mapbox<MapT>;\n\n    Promise.resolve(mapLib || defaultLib)\n      .then((module: MapLib<MapT> | {default: MapLib<MapT>}) => {\n        if (!isMounted) {\n          return;\n        }\n        if (!module) {\n          throw new Error('Invalid mapLib');\n        }\n        const mapboxgl = 'Map' in module ? module : module.default;\n        if (!mapboxgl.Map) {\n          throw new Error('Invalid mapLib');\n        }\n\n        // workerUrl & workerClass may change the result of supported()\n        // https://github.com/visgl/react-map-gl/discussions/2027\n        setGlobals(mapboxgl, props);\n        if (!mapboxgl.supported || mapboxgl.supported(props)) {\n          if (props.reuseMaps) {\n            mapbox = Mapbox.reuse(props, containerRef.current);\n          }\n          if (!mapbox) {\n            mapbox = new Mapbox(mapboxgl.Map, props, containerRef.current);\n          }\n          contextValue.map = createRef(mapbox);\n          contextValue.mapLib = mapboxgl;\n\n          setMapInstance(mapbox);\n          mountedMapsContext?.onMapMount(contextValue.map, props.id);\n        } else {\n          throw new Error('Map is not supported by this browser');\n        }\n      })\n      .catch(error => {\n        const {onError} = props;\n        if (onError) {\n          onError({\n            type: 'error',\n            target: null,\n            originalEvent: null,\n            error\n          });\n        } else {\n          console.error(error); // eslint-disable-line\n        }\n      });\n\n    return () => {\n      isMounted = false;\n      if (mapbox) {\n        mountedMapsContext?.onMapUnmount(props.id);\n        if (props.reuseMaps) {\n          mapbox.recycle();\n        } else {\n          mapbox.destroy();\n        }\n      }\n    };\n  }, []);\n\n  useIsomorphicLayoutEffect(() => {\n    if (mapInstance) {\n      mapInstance.setProps(props);\n    }\n  });\n\n  useImperativeHandle(ref, () => contextValue.map, [mapInstance]);\n\n  const style: CSSProperties = useMemo(\n    () => ({\n      position: 'relative',\n      width: '100%',\n      height: '100%',\n      ...props.style\n    }),\n    [props.style]\n  );\n\n  const CHILD_CONTAINER_STYLE = {\n    height: '100%'\n  };\n\n  return (\n    <div id={props.id} ref={containerRef} style={style}>\n      {mapInstance && (\n        <MapContext.Provider value={contextValue}>\n          <div mapboxgl-children=\"\" style={CHILD_CONTAINER_STYLE}>\n            {props.children}\n          </div>\n        </MapContext.Provider>\n      )}\n    </div>\n  );\n}\n", "import * as React from 'react';\nimport {useState, useCallback, useMemo, useContext} from 'react';\n\nimport {MapRef} from '../mapbox/create-ref';\nimport {MapContext} from './map';\nimport {MapInstance} from '../types';\n\ntype MountedMapsContextValue = {\n  maps: {[id: string]: MapRef<MapInstance>};\n  onMapMount: (map: MapRef<MapInstance>, id: string) => void;\n  onMapUnmount: (id: string) => void;\n};\n\nexport const MountedMapsContext = React.createContext<MountedMapsContextValue>(null);\n\nexport const MapProvider: React.FC<{children?: React.ReactNode}> = props => {\n  const [maps, setMaps] = useState<{[id: string]: MapRef<MapInstance>}>({});\n\n  const onMapMount = useCallback((map: MapRef<MapInstance>, id: string = 'default') => {\n    setMaps(currMaps => {\n      if (id === 'current') {\n        throw new Error(\"'current' cannot be used as map id\");\n      }\n      if (currMaps[id]) {\n        throw new Error(`Multiple maps with the same id: ${id}`);\n      }\n      return {...currMaps, [id]: map};\n    });\n  }, []);\n\n  const onMapUnmount = useCallback((id: string = 'default') => {\n    setMaps(currMaps => {\n      if (currMaps[id]) {\n        const nextMaps = {...currMaps};\n        delete nextMaps[id];\n        return nextMaps;\n      }\n      return currMaps;\n    });\n  }, []);\n\n  return (\n    <MountedMapsContext.Provider\n      value={{\n        maps,\n        onMapMount,\n        onMapUnmount\n      }}\n    >\n      {props.children}\n    </MountedMapsContext.Provider>\n  );\n};\n\nexport function useMap<MapT extends MapInstance>() {\n  const maps = useContext(MountedMapsContext)?.maps;\n  const currentMap = useContext(MapContext);\n\n  const mapsWithCurrent = useMemo(() => {\n    return {...maps, current: currentMap?.map};\n  }, [maps, currentMap]);\n\n  return mapsWithCurrent as {current?: MapRef<MapT>; [id: string]: MapRef<MapT> | undefined};\n}\n", "import type {MapboxProps} from '../mapbox/mapbox';\nimport type {Transform, ViewState} from '../types';\n\n/**\n * Make a copy of a transform\n * @param tr\n */\nexport function cloneTransform(tr: Transform): Transform {\n  const newTransform = tr.clone();\n  // Work around mapbox bug - this value is not assigned in clone(), only in resize()\n  newTransform.pixelsToGLUnits = tr.pixelsToGLUnits;\n  return newTransform;\n}\n\n/**\n * Capture a transform's current state\n * @param transform\n * @returns descriptor of the view state\n */\nexport function transformToViewState(tr: Transform): ViewState {\n  return {\n    longitude: tr.center.lng,\n    latitude: tr.center.lat,\n    zoom: tr.zoom,\n    pitch: tr.pitch,\n    bearing: tr.bearing,\n    padding: tr.padding\n  };\n}\n\n/* eslint-disable complexity */\n/**\n * Mutate a transform to match the given view state\n * @param transform\n * @param viewState\n * @returns true if the transform has changed\n */\nexport function applyViewStateToTransform(tr: Transform, props: MapboxProps): boolean {\n  const v: Partial<ViewState> = props.viewState || props;\n  let changed = false;\n\n  if ('longitude' in v && 'latitude' in v) {\n    const center = tr.center;\n    // @ts-ignore\n    tr.center = new center.constructor(v.longitude, v.latitude);\n    changed = changed || center !== tr.center;\n  }\n  if ('zoom' in v) {\n    const zoom = tr.zoom;\n    tr.zoom = v.zoom;\n    changed = changed || zoom !== tr.zoom;\n  }\n  if ('bearing' in v) {\n    const bearing = tr.bearing;\n    tr.bearing = v.bearing;\n    changed = changed || bearing !== tr.bearing;\n  }\n  if ('pitch' in v) {\n    const pitch = tr.pitch;\n    tr.pitch = v.pitch;\n    changed = changed || pitch !== tr.pitch;\n  }\n  if (v.padding && !tr.isPaddingEqual(v.padding)) {\n    changed = true;\n    tr.padding = v.padding;\n  }\n  return changed;\n}\n", "import {ImmutableLike, MapboxStyle} from '../types';\n\nconst refProps = ['type', 'source', 'source-layer', 'minzoom', 'maxzoom', 'filter', 'layout'];\n\n// Prepare a map style object for diffing\n// If immutable - convert to plain object\n// Work around some issues in older styles that would fail Mapbox's diffing\nexport function normalizeStyle(\n  style: string | MapboxStyle | ImmutableLike<MapboxStyle>\n): string | MapboxStyle {\n  if (!style) {\n    return null;\n  }\n  if (typeof style === 'string') {\n    return style;\n  }\n  if ('toJS' in style) {\n    style = style.toJS();\n  }\n  if (!style.layers) {\n    return style;\n  }\n  const layerIndex = {};\n\n  for (const layer of style.layers) {\n    layerIndex[layer.id] = layer;\n  }\n\n  const layers = style.layers.map(layer => {\n    let normalizedLayer: typeof layer = null;\n\n    if ('interactive' in layer) {\n      normalizedLayer = Object.assign({}, layer);\n      // Breaks style diffing :(\n      // @ts-ignore legacy field not typed\n      delete normalizedLayer.interactive;\n    }\n\n    // Style diffing doesn't work with refs so expand them out manually before diffing.\n    // @ts-ignore legacy field not typed\n    const layerRef = layerIndex[layer.ref];\n    if (layerRef) {\n      normalizedLayer = normalizedLayer || Object.assign({}, layer);\n      // @ts-ignore\n      delete normalizedLayer.ref;\n      // https://github.com/mapbox/mapbox-gl-js/blob/master/src/style-spec/deref.js\n      for (const propName of refProps) {\n        if (propName in layerRef) {\n          normalizedLayer[propName] = layerRef[propName];\n        }\n      }\n    }\n\n    return normalizedLayer || layer;\n  });\n\n  // Do not mutate the style object provided by the user\n  return {...style, layers};\n}\n", "import type {PointLike} from '../types';\n\n/**\n * Compare two points\n * @param a\n * @param b\n * @returns true if the points are equal\n */\nexport function arePointsEqual(a?: PointLike, b?: PointLike): boolean {\n  const ax = Array.isArray(a) ? a[0] : a ? a.x : 0;\n  const ay = Array.isArray(a) ? a[1] : a ? a.y : 0;\n  const bx = Array.isArray(b) ? b[0] : b ? b.x : 0;\n  const by = Array.isArray(b) ? b[1] : b ? b.y : 0;\n  return ax === bx && ay === by;\n}\n\n/* eslint-disable complexity */\n/**\n * Compare any two objects\n * @param a\n * @param b\n * @returns true if the objects are deep equal\n */\nexport function deepEqual(a: any, b: any): boolean {\n  if (a === b) {\n    return true;\n  }\n  if (!a || !b) {\n    return false;\n  }\n  if (Array.isArray(a)) {\n    if (!Array.isArray(b) || a.length !== b.length) {\n      return false;\n    }\n    for (let i = 0; i < a.length; i++) {\n      if (!deepEqual(a[i], b[i])) {\n        return false;\n      }\n    }\n    return true;\n  } else if (Array.isArray(b)) {\n    return false;\n  }\n  if (typeof a === 'object' && typeof b === 'object') {\n    const aKeys = Object.keys(a);\n    const bKeys = Object.keys(b);\n    if (aKeys.length !== bKeys.length) {\n      return false;\n    }\n    for (const key of aKeys) {\n      if (!b.hasOwnProperty(key)) {\n        return false;\n      }\n      if (!deepEqual(a[key], b[key])) {\n        return false;\n      }\n    }\n    return true;\n  }\n  return false;\n}\n", "import {transformToViewState, applyViewStateToTransform, cloneTransform} from '../utils/transform';\nimport {normalizeStyle} from '../utils/style-utils';\nimport {deepEqual} from '../utils/deep-equal';\n\nimport type {\n  Transform,\n  ViewState,\n  ViewStateChangeEvent,\n  Point,\n  PointLike,\n  PaddingOptions,\n  Light,\n  Fog,\n  Terrain,\n  MapboxStyle,\n  ImmutableLike,\n  LngLatBoundsLike,\n  MapMouseEvent,\n  MapLayerMouseEvent,\n  MapLayerTouchEvent,\n  MapWheelEvent,\n  MapBoxZoomEvent,\n  MapStyleDataEvent,\n  MapSourceDataEvent,\n  MapEvent,\n  ErrorEvent,\n  MapGeoJSONFeature,\n  MapInstance,\n  MapInstanceInternal\n} from '../types';\n\nexport type MapboxProps<MapT extends MapInstance = MapInstance> = Partial<ViewState> & {\n  // Init options\n  mapboxAccessToken?: string;\n\n  /** Camera options used when constructing the Map instance */\n  initialViewState?: Partial<ViewState> & {\n    /** The initial bounds of the map. If bounds is specified, it overrides longitude, latitude and zoom options. */\n    bounds?: LngLatBoundsLike;\n    /** A fitBounds options object to use only when setting the bounds option. */\n    fitBoundsOptions?: {\n      offset?: PointLike;\n      minZoom?: number;\n      maxZoom?: number;\n      padding?: number | PaddingOptions;\n    };\n  };\n\n  /** If provided, render into an external WebGL context */\n  gl?: WebGLRenderingContext;\n\n  /** For external controller to override the camera state */\n  viewState?: ViewState & {\n    width: number;\n    height: number;\n  };\n\n  // Styling\n\n  /** Mapbox style */\n  mapStyle?: string | MapboxStyle | ImmutableLike<MapboxStyle>;\n  /** Enable diffing when the map style changes\n   * @default true\n   */\n  styleDiffing?: boolean;\n  /** The fog property of the style. Must conform to the Fog Style Specification .\n   * If `undefined` is provided, removes the fog from the map. */\n  fog?: Fog;\n  /** Light properties of the map. */\n  light?: Light;\n  /** Terrain property of the style. Must conform to the Terrain Style Specification .\n   * If `undefined` is provided, removes terrain from the map. */\n  terrain?: Terrain;\n\n  /** Default layers to query on pointer events */\n  interactiveLayerIds?: string[];\n  /** CSS cursor */\n  cursor?: string;\n\n  // Callbacks\n  onMouseDown?: (e: MapLayerMouseEvent<MapT>) => void;\n  onMouseUp?: (e: MapLayerMouseEvent<MapT>) => void;\n  onMouseOver?: (e: MapLayerMouseEvent<MapT>) => void;\n  onMouseMove?: (e: MapLayerMouseEvent<MapT>) => void;\n  onClick?: (e: MapLayerMouseEvent<MapT>) => void;\n  onDblClick?: (e: MapLayerMouseEvent<MapT>) => void;\n  onMouseEnter?: (e: MapLayerMouseEvent<MapT>) => void;\n  onMouseLeave?: (e: MapLayerMouseEvent<MapT>) => void;\n  onMouseOut?: (e: MapLayerMouseEvent<MapT>) => void;\n  onContextMenu?: (e: MapLayerMouseEvent<MapT>) => void;\n  onTouchStart?: (e: MapLayerTouchEvent<MapT>) => void;\n  onTouchEnd?: (e: MapLayerTouchEvent<MapT>) => void;\n  onTouchMove?: (e: MapLayerTouchEvent<MapT>) => void;\n  onTouchCancel?: (e: MapLayerTouchEvent<MapT>) => void;\n\n  onMoveStart?: (e: ViewStateChangeEvent<MapT>) => void;\n  onMove?: (e: ViewStateChangeEvent<MapT>) => void;\n  onMoveEnd?: (e: ViewStateChangeEvent<MapT>) => void;\n  onDragStart?: (e: ViewStateChangeEvent<MapT>) => void;\n  onDrag?: (e: ViewStateChangeEvent<MapT>) => void;\n  onDragEnd?: (e: ViewStateChangeEvent<MapT>) => void;\n  onZoomStart?: (e: ViewStateChangeEvent<MapT>) => void;\n  onZoom?: (e: ViewStateChangeEvent<MapT>) => void;\n  onZoomEnd?: (e: ViewStateChangeEvent<MapT>) => void;\n  onRotateStart?: (e: ViewStateChangeEvent<MapT>) => void;\n  onRotate?: (e: ViewStateChangeEvent<MapT>) => void;\n  onRotateEnd?: (e: ViewStateChangeEvent<MapT>) => void;\n  onPitchStart?: (e: ViewStateChangeEvent<MapT>) => void;\n  onPitch?: (e: ViewStateChangeEvent<MapT>) => void;\n  onPitchEnd?: (e: ViewStateChangeEvent<MapT>) => void;\n\n  onWheel?: (e: MapWheelEvent<MapT>) => void;\n  onBoxZoomStart?: (e: MapBoxZoomEvent<MapT>) => void;\n  onBoxZoomEnd?: (e: MapBoxZoomEvent<MapT>) => void;\n  onBoxZoomCancel?: (e: MapBoxZoomEvent<MapT>) => void;\n\n  onResize?: (e: MapEvent<MapT>) => void;\n  onLoad?: (e: MapEvent<MapT>) => void;\n  onRender?: (e: MapEvent<MapT>) => void;\n  onIdle?: (e: MapEvent<MapT>) => void;\n  onError?: (e: ErrorEvent<MapT>) => void;\n  onRemove?: (e: MapEvent<MapT>) => void;\n  onData?: (e: MapStyleDataEvent<MapT> | MapSourceDataEvent<MapT>) => void;\n  onStyleData?: (e: MapStyleDataEvent<MapT>) => void;\n  onSourceData?: (e: MapSourceDataEvent<MapT>) => void;\n};\n\nconst DEFAULT_STYLE = {version: 8, sources: {}, layers: []} as MapboxStyle;\n\nconst pointerEvents = {\n  mousedown: 'onMouseDown',\n  mouseup: 'onMouseUp',\n  mouseover: 'onMouseOver',\n  mousemove: 'onMouseMove',\n  click: 'onClick',\n  dblclick: 'onDblClick',\n  mouseenter: 'onMouseEnter',\n  mouseleave: 'onMouseLeave',\n  mouseout: 'onMouseOut',\n  contextmenu: 'onContextMenu',\n  touchstart: 'onTouchStart',\n  touchend: 'onTouchEnd',\n  touchmove: 'onTouchMove',\n  touchcancel: 'onTouchCancel'\n};\nconst cameraEvents = {\n  movestart: 'onMoveStart',\n  move: 'onMove',\n  moveend: 'onMoveEnd',\n  dragstart: 'onDragStart',\n  drag: 'onDrag',\n  dragend: 'onDragEnd',\n  zoomstart: 'onZoomStart',\n  zoom: 'onZoom',\n  zoomend: 'onZoomEnd',\n  rotatestart: 'onRotateStart',\n  rotate: 'onRotate',\n  rotateend: 'onRotateEnd',\n  pitchstart: 'onPitchStart',\n  pitch: 'onPitch',\n  pitchend: 'onPitchEnd'\n};\nconst otherEvents = {\n  wheel: 'onWheel',\n  boxzoomstart: 'onBoxZoomStart',\n  boxzoomend: 'onBoxZoomEnd',\n  boxzoomcancel: 'onBoxZoomCancel',\n  resize: 'onResize',\n  load: 'onLoad',\n  render: 'onRender',\n  idle: 'onIdle',\n  remove: 'onRemove',\n  data: 'onData',\n  styledata: 'onStyleData',\n  sourcedata: 'onSourceData',\n  error: 'onError'\n};\nconst settingNames = [\n  'minZoom',\n  'maxZoom',\n  'minPitch',\n  'maxPitch',\n  'maxBounds',\n  'projection',\n  'renderWorldCopies'\n];\nconst handlerNames = [\n  'scrollZoom',\n  'boxZoom',\n  'dragRotate',\n  'dragPan',\n  'keyboard',\n  'doubleClickZoom',\n  'touchZoomRotate',\n  'touchPitch'\n];\n\n/**\n * A wrapper for mapbox-gl's Map class\n */\nexport default class Mapbox<MapT extends MapInstance = MapInstance> {\n  private _MapClass: {new (options: any): MapInstance};\n  // mapboxgl.Map instance\n  private _map: MapInstanceInternal<MapT> = null;\n  // User-supplied props\n  props: MapboxProps<MapT>;\n\n  // Mapbox map is stateful.\n  // During method calls/user interactions, map.transform is mutated and\n  // deviate from user-supplied props.\n  // In order to control the map reactively, we shadow the transform\n  // with the one below, which reflects the view state resolved from\n  // both user-supplied props and the underlying state\n  private _renderTransform: Transform;\n\n  // Internal states\n  private _internalUpdate: boolean = false;\n  private _inRender: boolean = false;\n  private _hoveredFeatures: MapGeoJSONFeature[] = null;\n  private _deferredEvents: {\n    move: boolean;\n    zoom: boolean;\n    pitch: boolean;\n    rotate: boolean;\n  } = {\n    move: false,\n    zoom: false,\n    pitch: false,\n    rotate: false\n  };\n\n  static savedMaps: Mapbox[] = [];\n\n  constructor(\n    MapClass: {new (options: any): MapInstance},\n    props: MapboxProps<MapT>,\n    container: HTMLDivElement\n  ) {\n    this._MapClass = MapClass;\n    this.props = props;\n    this._initialize(container);\n  }\n\n  get map(): MapT {\n    return this._map;\n  }\n\n  get transform(): Transform {\n    return this._renderTransform;\n  }\n\n  setProps(props: MapboxProps<MapT>) {\n    const oldProps = this.props;\n    this.props = props;\n\n    const settingsChanged = this._updateSettings(props, oldProps);\n    if (settingsChanged) {\n      this._createShadowTransform(this._map);\n    }\n    const sizeChanged = this._updateSize(props);\n    const viewStateChanged = this._updateViewState(props, true);\n    this._updateStyle(props, oldProps);\n    this._updateStyleComponents(props, oldProps);\n    this._updateHandlers(props, oldProps);\n\n    // If 1) view state has changed to match props and\n    //    2) the props change is not triggered by map events,\n    // it's driven by an external state change. Redraw immediately\n    if (settingsChanged || sizeChanged || (viewStateChanged && !this._map.isMoving())) {\n      this.redraw();\n    }\n  }\n\n  static reuse<MapT extends MapInstance>(\n    props: MapboxProps<MapT>,\n    container: HTMLDivElement\n  ): Mapbox<MapT> {\n    const that = Mapbox.savedMaps.pop() as Mapbox<MapT>;\n    if (!that) {\n      return null;\n    }\n\n    const map = that.map;\n    // When reusing the saved map, we need to reparent the map(canvas) and other child nodes\n    // intoto the new container from the props.\n    // Step 1: reparenting child nodes from old container to new container\n    const oldContainer = map.getContainer();\n    container.className = oldContainer.className;\n    while (oldContainer.childNodes.length > 0) {\n      container.appendChild(oldContainer.childNodes[0]);\n    }\n    // Step 2: replace the internal container with new container from the react component\n    // @ts-ignore\n    map._container = container;\n\n    // With maplibre-gl as mapLib, map uses ResizeObserver to observe when its container resizes.\n    // When reusing the saved map, we need to disconnect the observer and observe the new container.\n    // Step 3: telling the ResizeObserver to disconnect and observe the new container\n    // @ts-ignore\n    const resizeObserver = map._resizeObserver;\n    if (resizeObserver) {\n      resizeObserver.disconnect();\n      resizeObserver.observe(container);\n    }\n\n    // Step 4: apply new props\n    that.setProps({...props, styleDiffing: false});\n    map.resize();\n    const {initialViewState} = props;\n    if (initialViewState) {\n      if (initialViewState.bounds) {\n        map.fitBounds(initialViewState.bounds, {...initialViewState.fitBoundsOptions, duration: 0});\n      } else {\n        that._updateViewState(initialViewState, false);\n      }\n    }\n\n    // Simulate load event\n    if (map.isStyleLoaded()) {\n      map.fire('load');\n    } else {\n      map.once('styledata', () => map.fire('load'));\n    }\n\n    // Force reload\n    // @ts-ignore\n    map._update();\n    return that;\n  }\n\n  /* eslint-disable complexity,max-statements */\n  _initialize(container: HTMLDivElement) {\n    const {props} = this;\n    const {mapStyle = DEFAULT_STYLE} = props;\n    const mapOptions = {\n      ...props,\n      ...props.initialViewState,\n      accessToken: props.mapboxAccessToken || getAccessTokenFromEnv() || null,\n      container,\n      style: normalizeStyle(mapStyle)\n    };\n\n    const viewState = mapOptions.initialViewState || mapOptions.viewState || mapOptions;\n    Object.assign(mapOptions, {\n      center: [viewState.longitude || 0, viewState.latitude || 0],\n      zoom: viewState.zoom || 0,\n      pitch: viewState.pitch || 0,\n      bearing: viewState.bearing || 0\n    });\n\n    if (props.gl) {\n      // eslint-disable-next-line\n      const getContext = HTMLCanvasElement.prototype.getContext;\n      // Hijack canvas.getContext to return our own WebGLContext\n      // This will be called inside the mapboxgl.Map constructor\n      // @ts-expect-error\n      HTMLCanvasElement.prototype.getContext = () => {\n        // Unhijack immediately\n        HTMLCanvasElement.prototype.getContext = getContext;\n        return props.gl;\n      };\n    }\n\n    const map = new this._MapClass(mapOptions) as MapInstanceInternal<MapT>;\n    // Props that are not part of constructor options\n    if (viewState.padding) {\n      map.setPadding(viewState.padding);\n    }\n    if (props.cursor) {\n      map.getCanvas().style.cursor = props.cursor;\n    }\n    this._createShadowTransform(map);\n\n    // Hack\n    // Insert code into map's render cycle\n    const renderMap = map._render;\n    map._render = (arg: number) => {\n      this._inRender = true;\n      renderMap.call(map, arg);\n      this._inRender = false;\n    };\n    const runRenderTaskQueue = map._renderTaskQueue.run;\n    map._renderTaskQueue.run = (arg: number) => {\n      runRenderTaskQueue.call(map._renderTaskQueue, arg);\n      this._onBeforeRepaint();\n    };\n    map.on('render', () => this._onAfterRepaint());\n    // Insert code into map's event pipeline\n    // eslint-disable-next-line @typescript-eslint/unbound-method\n    const fireEvent = map.fire;\n    map.fire = this._fireEvent.bind(this, fireEvent);\n\n    // add listeners\n    map.on('resize', () => {\n      this._renderTransform.resize(map.transform.width, map.transform.height);\n    });\n    map.on('styledata', () => this._updateStyleComponents(this.props, {}));\n    map.on('sourcedata', () => this._updateStyleComponents(this.props, {}));\n    for (const eventName in pointerEvents) {\n      map.on(eventName, this._onPointerEvent);\n    }\n    for (const eventName in cameraEvents) {\n      map.on(eventName, this._onCameraEvent);\n    }\n    for (const eventName in otherEvents) {\n      map.on(eventName, this._onEvent);\n    }\n    this._map = map;\n  }\n  /* eslint-enable complexity,max-statements */\n\n  recycle() {\n    // Clean up unnecessary elements before storing for reuse.\n    const container = this.map.getContainer();\n    const children = container.querySelector('[mapboxgl-children]');\n    children?.remove();\n\n    Mapbox.savedMaps.push(this);\n  }\n\n  destroy() {\n    this._map.remove();\n  }\n\n  // Force redraw the map now. Typically resize() and jumpTo() is reflected in the next\n  // render cycle, which is managed by Mapbox's animation loop.\n  // This removes the synchronization issue caused by requestAnimationFrame.\n  redraw() {\n    const map = this._map as any;\n    // map._render will throw error if style does not exist\n    // https://github.com/mapbox/mapbox-gl-js/blob/fb9fc316da14e99ff4368f3e4faa3888fb43c513\n    //   /src/ui/map.js#L1834\n    if (!this._inRender && map.style) {\n      // cancel the scheduled update\n      if (map._frame) {\n        map._frame.cancel();\n        map._frame = null;\n      }\n      // the order is important - render() may schedule another update\n      map._render();\n    }\n  }\n\n  _createShadowTransform(map: any) {\n    const renderTransform = cloneTransform(map.transform);\n    map.painter.transform = renderTransform;\n\n    this._renderTransform = renderTransform;\n  }\n\n  /* Trigger map resize if size is controlled\n     @param {object} nextProps\n     @returns {bool} true if size has changed\n   */\n  _updateSize(nextProps: MapboxProps<MapT>): boolean {\n    // Check if size is controlled\n    const {viewState} = nextProps;\n    if (viewState) {\n      const map = this._map;\n      if (viewState.width !== map.transform.width || viewState.height !== map.transform.height) {\n        map.resize();\n        return true;\n      }\n    }\n    return false;\n  }\n\n  // Adapted from map.jumpTo\n  /* Update camera to match props\n     @param {object} nextProps\n     @param {bool} triggerEvents - should fire camera events\n     @returns {bool} true if anything is changed\n   */\n  _updateViewState(nextProps: MapboxProps<MapT>, triggerEvents: boolean): boolean {\n    if (this._internalUpdate) {\n      return false;\n    }\n    const map = this._map;\n\n    const tr = this._renderTransform;\n    // Take a snapshot of the transform before mutation\n    const {zoom, pitch, bearing} = tr;\n    const isMoving = map.isMoving();\n\n    if (isMoving) {\n      // All movement of the camera is done relative to the sea level\n      tr.cameraElevationReference = 'sea';\n    }\n    const changed = applyViewStateToTransform(tr, {\n      ...transformToViewState(map.transform),\n      ...nextProps\n    });\n    if (isMoving) {\n      // Reset camera reference\n      tr.cameraElevationReference = 'ground';\n    }\n\n    if (changed && triggerEvents) {\n      const deferredEvents = this._deferredEvents;\n      // Delay DOM control updates to the next render cycle\n      deferredEvents.move = true;\n      deferredEvents.zoom ||= zoom !== tr.zoom;\n      deferredEvents.rotate ||= bearing !== tr.bearing;\n      deferredEvents.pitch ||= pitch !== tr.pitch;\n    }\n\n    // Avoid manipulating the real transform when interaction/animation is ongoing\n    // as it would interfere with Mapbox's handlers\n    if (!isMoving) {\n      applyViewStateToTransform(map.transform, nextProps);\n    }\n\n    return changed;\n  }\n\n  /* Update camera constraints and projection settings to match props\n     @param {object} nextProps\n     @param {object} currProps\n     @returns {bool} true if anything is changed\n   */\n  _updateSettings(nextProps: MapboxProps<MapT>, currProps: MapboxProps<MapT>): boolean {\n    const map = this._map;\n    let changed = false;\n    for (const propName of settingNames) {\n      if (propName in nextProps && !deepEqual(nextProps[propName], currProps[propName])) {\n        changed = true;\n        const setter = map[`set${propName[0].toUpperCase()}${propName.slice(1)}`];\n        setter?.call(map, nextProps[propName]);\n      }\n    }\n    return changed;\n  }\n\n  /* Update map style to match props\n     @param {object} nextProps\n     @param {object} currProps\n     @returns {bool} true if style is changed\n   */\n  _updateStyle(nextProps: MapboxProps<MapT>, currProps: MapboxProps<MapT>): boolean {\n    if (nextProps.cursor !== currProps.cursor) {\n      this._map.getCanvas().style.cursor = nextProps.cursor;\n    }\n    if (nextProps.mapStyle !== currProps.mapStyle) {\n      const {mapStyle = DEFAULT_STYLE, styleDiffing = true} = nextProps;\n      const options: any = {\n        diff: styleDiffing\n      };\n      if ('localIdeographFontFamily' in nextProps) {\n        // @ts-ignore Mapbox specific prop\n        options.localIdeographFontFamily = nextProps.localIdeographFontFamily;\n      }\n      this._map.setStyle(normalizeStyle(mapStyle), options);\n      return true;\n    }\n    return false;\n  }\n\n  /* Update fog, light and terrain to match props\n     @param {object} nextProps\n     @param {object} currProps\n     @returns {bool} true if anything is changed\n   */\n  _updateStyleComponents(nextProps: MapboxProps<MapT>, currProps: MapboxProps<MapT>): boolean {\n    const map = this._map;\n    let changed = false;\n    if (map.isStyleLoaded()) {\n      if ('light' in nextProps && map.setLight && !deepEqual(nextProps.light, currProps.light)) {\n        changed = true;\n        map.setLight(nextProps.light);\n      }\n      if ('fog' in nextProps && map.setFog && !deepEqual(nextProps.fog, currProps.fog)) {\n        changed = true;\n        map.setFog(nextProps.fog);\n      }\n      if (\n        'terrain' in nextProps &&\n        map.setTerrain &&\n        !deepEqual(nextProps.terrain, currProps.terrain)\n      ) {\n        if (!nextProps.terrain || map.getSource(nextProps.terrain.source)) {\n          changed = true;\n          map.setTerrain(nextProps.terrain);\n        }\n      }\n    }\n    return changed;\n  }\n\n  /* Update interaction handlers to match props\n     @param {object} nextProps\n     @param {object} currProps\n     @returns {bool} true if anything is changed\n   */\n  _updateHandlers(nextProps: MapboxProps<MapT>, currProps: MapboxProps<MapT>): boolean {\n    const map = this._map;\n    let changed = false;\n    for (const propName of handlerNames) {\n      const newValue = nextProps[propName] ?? true;\n      const oldValue = currProps[propName] ?? true;\n      if (!deepEqual(newValue, oldValue)) {\n        changed = true;\n        if (newValue) {\n          map[propName].enable(newValue);\n        } else {\n          map[propName].disable();\n        }\n      }\n    }\n    return changed;\n  }\n\n  _onEvent = (e: MapEvent<MapT>) => {\n    // @ts-ignore\n    const cb = this.props[otherEvents[e.type]];\n    if (cb) {\n      cb(e);\n    } else if (e.type === 'error') {\n      console.error((e as ErrorEvent<MapT>).error); // eslint-disable-line\n    }\n  };\n\n  private _queryRenderedFeatures(point: Point) {\n    const map = this._map;\n    const {interactiveLayerIds = []} = this.props;\n    try {\n      return map.queryRenderedFeatures(point, {\n        layers: interactiveLayerIds.filter(map.getLayer.bind(map))\n      });\n    } catch {\n      // May fail if style is not loaded\n      return [];\n    }\n  }\n\n  _updateHover(e: MapMouseEvent<MapT>) {\n    const {props} = this;\n    const shouldTrackHoveredFeatures =\n      props.interactiveLayerIds && (props.onMouseMove || props.onMouseEnter || props.onMouseLeave);\n\n    if (shouldTrackHoveredFeatures) {\n      const eventType = e.type;\n      const wasHovering = this._hoveredFeatures?.length > 0;\n      const features = this._queryRenderedFeatures(e.point);\n      const isHovering = features.length > 0;\n\n      if (!isHovering && wasHovering) {\n        e.type = 'mouseleave';\n        this._onPointerEvent(e);\n      }\n      this._hoveredFeatures = features;\n      if (isHovering && !wasHovering) {\n        e.type = 'mouseenter';\n        this._onPointerEvent(e);\n      }\n      e.type = eventType;\n    } else {\n      this._hoveredFeatures = null;\n    }\n  }\n\n  _onPointerEvent = (e: MapLayerMouseEvent<MapT> | MapLayerTouchEvent<MapT>) => {\n    if (e.type === 'mousemove' || e.type === 'mouseout') {\n      this._updateHover(e);\n    }\n\n    // @ts-ignore\n    const cb = this.props[pointerEvents[e.type]];\n    if (cb) {\n      if (this.props.interactiveLayerIds && e.type !== 'mouseover' && e.type !== 'mouseout') {\n        e.features = this._hoveredFeatures || this._queryRenderedFeatures(e.point);\n      }\n      cb(e);\n      delete e.features;\n    }\n  };\n\n  _onCameraEvent = (e: ViewStateChangeEvent<MapT>) => {\n    if (!this._internalUpdate) {\n      // @ts-ignore\n      const cb = this.props[cameraEvents[e.type]];\n      if (cb) {\n        cb(e);\n      }\n    }\n    if (e.type in this._deferredEvents) {\n      this._deferredEvents[e.type] = false;\n    }\n  };\n\n  _fireEvent(baseFire: Function, event: string | MapEvent<MapT>, properties?: object) {\n    const map = this._map;\n    const tr = map.transform;\n\n    const eventType = typeof event === 'string' ? event : event.type;\n    if (eventType === 'move') {\n      this._updateViewState(this.props, false);\n    }\n    if (eventType in cameraEvents) {\n      if (typeof event === 'object') {\n        (event as unknown as ViewStateChangeEvent<MapT>).viewState = transformToViewState(tr);\n      }\n      if (this._map.isMoving()) {\n        // Replace map.transform with ours during the callbacks\n        map.transform = this._renderTransform;\n        baseFire.call(map, event, properties);\n        map.transform = tr;\n\n        return map;\n      }\n    }\n    baseFire.call(map, event, properties);\n\n    return map;\n  }\n\n  // All camera manipulations are complete, ready to repaint\n  _onBeforeRepaint() {\n    const map = this._map;\n\n    // If there are camera changes driven by props, invoke camera events so that DOM controls are synced\n    this._internalUpdate = true;\n    for (const eventType in this._deferredEvents) {\n      if (this._deferredEvents[eventType]) {\n        map.fire(eventType);\n      }\n    }\n    this._internalUpdate = false;\n\n    const tr = this._map.transform;\n    // Make sure camera matches the current props\n    this._map.transform = this._renderTransform;\n\n    this._onAfterRepaint = () => {\n      // Restores camera state before render/load events are fired\n      this._map.transform = tr;\n    };\n  }\n\n  _onAfterRepaint: () => void;\n}\n\n/**\n * Access token can be provided via one of:\n *   mapboxAccessToken prop\n *   access_token query parameter\n *   MapboxAccessToken environment variable\n *   REACT_APP_MAPBOX_ACCESS_TOKEN environment variable\n * @returns access token\n */\nfunction getAccessTokenFromEnv(): string {\n  let accessToken = null;\n\n  /* global location, process */\n  if (typeof location !== 'undefined') {\n    const match = /access_token=([^&\\/]*)/.exec(location.search);\n    accessToken = match && match[1];\n  }\n\n  // Note: This depends on bundler plugins (e.g. webpack) importing environment correctly\n  try {\n    accessToken = accessToken || process.env.MapboxAccessToken;\n  } catch {\n    // ignore\n  }\n\n  try {\n    accessToken = accessToken || process.env.REACT_APP_MAPBOX_ACCESS_TOKEN;\n  } catch {\n    // ignore\n  }\n\n  return accessToken;\n}\n", "import type {MapInstance, MapInstanceInternal, LngLatLike, PointLike} from '../types';\nimport type Mapbox from './mapbox';\n\n/** These methods may break the react binding if called directly */\nconst skipMethods = [\n  'setMaxBounds',\n  'setMinZoom',\n  'setMaxZoom',\n  'setMinPitch',\n  'setMaxPitch',\n  'setRenderWorldCopies',\n  'setProjection',\n  'setStyle',\n  'addSource',\n  'removeSource',\n  'addLayer',\n  'removeLayer',\n  'setLayerZoomRange',\n  'setFilter',\n  'setPaintProperty',\n  'setLayoutProperty',\n  'setLight',\n  'setTerrain',\n  'setFog',\n  'remove'\n] as const;\n\nexport type MapRef<MapT extends MapInstance> = {\n  getMap(): MapT;\n} & Omit<MapT, typeof skipMethods[number]>;\n\nexport default function createRef<MapT extends MapInstance>(\n  mapInstance: Mapbox<MapT>\n): MapRef<MapT> {\n  if (!mapInstance) {\n    return null;\n  }\n\n  const map = mapInstance.map as MapInstanceInternal<MapT>;\n  const result: any = {\n    getMap: () => map,\n\n    // Overwrite getters to use our shadow transform\n    getCenter: () => mapInstance.transform.center,\n    getZoom: () => mapInstance.transform.zoom,\n    getBearing: () => mapInstance.transform.bearing,\n    getPitch: () => mapInstance.transform.pitch,\n    getPadding: () => mapInstance.transform.padding,\n    getBounds: () => mapInstance.transform.getBounds(),\n    project: (lnglat: LngLatLike) => {\n      const tr = map.transform;\n      map.transform = mapInstance.transform;\n      const result = map.project(lnglat);\n      map.transform = tr;\n      return result;\n    },\n    unproject: (point: PointLike) => {\n      const tr = map.transform;\n      map.transform = mapInstance.transform;\n      const result = map.unproject(point);\n      map.transform = tr;\n      return result;\n    },\n    // options diverge between mapbox and maplibre\n    queryTerrainElevation: (lnglat: LngLatLike, options?: any) => {\n      const tr = map.transform;\n      map.transform = mapInstance.transform;\n      const result = map.queryTerrainElevation(lnglat, options);\n      map.transform = tr;\n      return result;\n    }\n  };\n\n  for (const key of getMethodNames(map)) {\n    // @ts-expect-error\n    if (!(key in result) && !skipMethods.includes(key)) {\n      result[key] = map[key].bind(map);\n    }\n  }\n\n  return result;\n}\n\nfunction getMethodNames(obj) {\n  const result = new Set<string>();\n\n  let proto = obj;\n  while (proto) {\n    for (const key of Object.getOwnPropertyNames(proto)) {\n      if (\n        key[0] !== '_' &&\n        typeof obj[key] === 'function' &&\n        key !== 'fire' &&\n        key !== 'setEventedParent'\n      ) {\n        result.add(key);\n      }\n    }\n    proto = Object.getPrototypeOf(proto);\n  }\n  return Array.from(result);\n}\n", "// From https://github.com/streamich/react-use/blob/master/src/useIsomorphicLayoutEffect.ts\n// useLayoutEffect but does not trigger warning in server-side rendering\nimport {useEffect, useLayoutEffect} from 'react';\n\nconst useIsomorphicLayoutEffect = typeof document !== 'undefined' ? useLayoutEffect : useEffect;\n\nexport default useIsomorphicLayoutEffect;\n", "export type GlobalSettings = {\n  /** The map's default API URL for requesting tiles, styles, sprites, and glyphs. */\n  baseApiUrl?: string;\n  /** The maximum number of images (raster tiles, sprites, icons) to load in parallel.\n   * @default 16\n   */\n  maxParallelImageRequests?: number;\n  /** The map's RTL text plugin. Necessary for supporting the Arabic and Hebrew languages, which are written right-to-left.  */\n  RTLTextPlugin?: string;\n  /** Provides an interface for external module bundlers such as Webpack or Rollup to package mapbox-gl's WebWorker into a separate class and integrate it with the library.\nTakes precedence over `workerUrl`. */\n  workerClass?: any;\n  /** The number of web workers instantiated on a page with mapbox-gl maps.\n   * @default 2\n   */\n  workerCount?: number;\n  /** Provides an interface for loading mapbox-gl's WebWorker bundle from a self-hosted URL.\n   * This is useful if your site needs to operate in a strict CSP (Content Security Policy) environment\n   * wherein you are not allowed to load JavaScript code from a Blob URL, which is default behavior. */\n  workerUrl?: string;\n};\n\nconst globalSettings = [\n  'baseApiUrl',\n  'maxParallelImageRequests',\n  'workerClass',\n  'workerCount',\n  'workerUrl'\n] as const;\n\nexport default function setGlobals(mapLib: any, props: GlobalSettings) {\n  for (const key of globalSettings) {\n    if (key in props) {\n      mapLib[key] = props[key];\n    }\n  }\n\n  const {\n    RTLTextPlugin = 'https://api.mapbox.com/mapbox-gl-js/plugins/mapbox-gl-rtl-text/v0.2.3/mapbox-gl-rtl-text.js'\n  } = props;\n  if (\n    RTLTextPlugin &&\n    mapLib.getRTLTextPluginStatus &&\n    mapLib.getRTLTextPluginStatus() === 'unavailable'\n  ) {\n    mapLib.setRTLTextPlugin(\n      RTLTextPlugin,\n      (error?: Error) => {\n        if (error) {\n          // eslint-disable-next-line\n          console.error(error);\n        }\n      },\n      false\n    );\n  }\n}\n", "/* global document */\nimport * as React from 'react';\nimport {createPortal} from 'react-dom';\nimport {useImperativeHandle, useEffect, useMemo, useRef, useContext, forwardRef, memo} from 'react';\nimport {applyReactStyle} from '../utils/apply-react-style';\n\nimport type {MarkerEvent, MarkerDragEvent, PointLike, MarkerInstance} from '../types';\n\nimport {MapContext} from './map';\nimport {arePointsEqual} from '../utils/deep-equal';\n\nexport type MarkerProps<OptionsT, MarkerT extends MarkerInstance> = OptionsT & {\n  /** Longitude of the anchor location */\n  longitude: number;\n  /** Latitude of the anchor location */\n  latitude: number;\n\n  // These types will be further constraint by OptionsT\n  draggable?: boolean;\n  offset?: PointLike;\n  pitchAlignment?: string;\n  rotation?: number;\n  rotationAlignment?: string;\n  popup?: any;\n\n  /** CSS style override, applied to the control's container */\n  style?: React.CSSProperties;\n  onClick?: (e: MarkerEvent<MarkerT, MouseEvent>) => void;\n  onDragStart?: (e: MarkerDragEvent<MarkerT>) => void;\n  onDrag?: (e: MarkerDragEvent<MarkerT>) => void;\n  onDragEnd?: (e: MarkerDragEvent<MarkerT>) => void;\n  children?: React.ReactNode;\n};\n\n/* eslint-disable complexity,max-statements */\nfunction Marker<MarkerOptions, MarkerT extends MarkerInstance>(\n  props: MarkerProps<MarkerOptions, MarkerT>,\n  ref: React.Ref<MarkerT>\n) {\n  const {map, mapLib} = useContext(MapContext);\n  const thisRef = useRef({props});\n  thisRef.current.props = props;\n\n  const marker: MarkerT = useMemo(() => {\n    let hasChildren = false;\n    React.Children.forEach(props.children, el => {\n      if (el) {\n        hasChildren = true;\n      }\n    });\n    const options = {\n      ...props,\n      element: hasChildren ? document.createElement('div') : null\n    };\n\n    const mk = new mapLib.Marker(options) as MarkerT;\n    mk.setLngLat([props.longitude, props.latitude]);\n\n    mk.getElement().addEventListener('click', (e: MouseEvent) => {\n      thisRef.current.props.onClick?.({\n        type: 'click',\n        target: mk,\n        originalEvent: e\n      });\n    });\n\n    mk.on('dragstart', e => {\n      const evt = e as MarkerDragEvent<MarkerT>;\n      evt.lngLat = marker.getLngLat();\n      thisRef.current.props.onDragStart?.(evt);\n    });\n    mk.on('drag', e => {\n      const evt = e as MarkerDragEvent<MarkerT>;\n      evt.lngLat = marker.getLngLat();\n      thisRef.current.props.onDrag?.(evt);\n    });\n    mk.on('dragend', e => {\n      const evt = e as MarkerDragEvent<MarkerT>;\n      evt.lngLat = marker.getLngLat();\n      thisRef.current.props.onDragEnd?.(evt);\n    });\n\n    return mk;\n  }, []);\n\n  useEffect(() => {\n    marker.addTo(map.getMap());\n\n    return () => {\n      marker.remove();\n    };\n  }, []);\n\n  const {\n    longitude,\n    latitude,\n    offset,\n    style,\n    draggable = false,\n    popup = null,\n    rotation = 0,\n    rotationAlignment = 'auto',\n    pitchAlignment = 'auto'\n  } = props;\n\n  useEffect(() => {\n    applyReactStyle(marker.getElement(), style);\n  }, [style]);\n\n  useImperativeHandle(ref, () => marker, []);\n\n  if (marker.getLngLat().lng !== longitude || marker.getLngLat().lat !== latitude) {\n    marker.setLngLat([longitude, latitude]);\n  }\n  if (offset && !arePointsEqual(marker.getOffset(), offset)) {\n    marker.setOffset(offset);\n  }\n  if (marker.isDraggable() !== draggable) {\n    marker.setDraggable(draggable);\n  }\n  if (marker.getRotation() !== rotation) {\n    marker.setRotation(rotation);\n  }\n  if (marker.getRotationAlignment() !== rotationAlignment) {\n    marker.setRotationAlignment(rotationAlignment);\n  }\n  if (marker.getPitchAlignment() !== pitchAlignment) {\n    marker.setPitchAlignment(pitchAlignment);\n  }\n  if (marker.getPopup() !== popup) {\n    marker.setPopup(popup);\n  }\n\n  return createPortal(props.children, marker.getElement());\n}\n\nexport default memo(forwardRef(Marker));\n", "import * as React from 'react';\n// This is a simplified version of\n// https://github.com/facebook/react/blob/4131af3e4bf52f3a003537ec95a1655147c81270/src/renderers/dom/shared/CSSPropertyOperations.js#L62\nconst unitlessNumber = /box|flex|grid|column|lineHeight|fontWeight|opacity|order|tabSize|zIndex/;\n\nexport function applyReactStyle(element: HTMLElement, styles: React.CSSProperties) {\n  if (!element || !styles) {\n    return;\n  }\n  const style = element.style;\n\n  for (const key in styles) {\n    const value = styles[key];\n    if (Number.isFinite(value) && !unitlessNumber.test(key)) {\n      style[key] = `${value}px`;\n    } else {\n      style[key] = value;\n    }\n  }\n}\n", "/* global document */\nimport * as React from 'react';\nimport {createPortal} from 'react-dom';\nimport {useImperativeHandle, useEffect, useMemo, useRef, useContext, forwardRef, memo} from 'react';\nimport {applyReactStyle} from '../utils/apply-react-style';\n\nimport type {PopupEvent, PopupInstance} from '../types';\n\nimport {MapContext} from './map';\nimport {deepEqual} from '../utils/deep-equal';\n\nexport type PopupProps<OptionsT, PopupT extends PopupInstance> = OptionsT & {\n  /** Longitude of the anchor location */\n  longitude: number;\n  /** Latitude of the anchor location */\n  latitude: number;\n\n  // These types will be further constraint by OptionsT\n  anchor?: string;\n  offset?: any;\n  className?: string;\n  maxWidth?: string;\n\n  /** CSS style override, applied to the control's container */\n  style?: React.CSSProperties;\n\n  onOpen?: (e: PopupEvent<PopupT>) => void;\n  onClose?: (e: PopupEvent<PopupT>) => void;\n  children?: React.ReactNode;\n};\n\n// Adapted from https://github.com/mapbox/mapbox-gl-js/blob/v1.13.0/src/ui/popup.js\nfunction getClassList(className: string) {\n  return new Set(className ? className.trim().split(/\\s+/) : []);\n}\n\n/* eslint-disable complexity,max-statements */\nfunction Popup<PopupOptions, PopupT extends PopupInstance>(\n  props: PopupProps<PopupOptions, PopupT>,\n  ref: React.Ref<PopupT>\n) {\n  const {map, mapLib} = useContext(MapContext);\n  const container = useMemo(() => {\n    return document.createElement('div');\n  }, []);\n  const thisRef = useRef({props});\n  thisRef.current.props = props;\n\n  const popup: PopupT = useMemo(() => {\n    const options = {...props};\n    const pp = new mapLib.Popup(options) as PopupT;\n    pp.setLngLat([props.longitude, props.latitude]);\n    pp.once('open', e => {\n      thisRef.current.props.onOpen?.(e as PopupEvent<PopupT>);\n    });\n    return pp;\n  }, []);\n\n  useEffect(() => {\n    const onClose = e => {\n      thisRef.current.props.onClose?.(e as PopupEvent<PopupT>);\n    };\n    popup.on('close', onClose);\n    popup.setDOMContent(container).addTo(map.getMap());\n\n    return () => {\n      // https://github.com/visgl/react-map-gl/issues/1825\n      // onClose should not be fired if the popup is removed by unmounting\n      // When using React strict mode, the component is mounted twice.\n      // Firing the onClose callback here would be a false signal to remove the component.\n      popup.off('close', onClose);\n      if (popup.isOpen()) {\n        popup.remove();\n      }\n    };\n  }, []);\n\n  useEffect(() => {\n    applyReactStyle(popup.getElement(), props.style);\n  }, [props.style]);\n\n  useImperativeHandle(ref, () => popup, []);\n\n  if (popup.isOpen()) {\n    if (popup.getLngLat().lng !== props.longitude || popup.getLngLat().lat !== props.latitude) {\n      popup.setLngLat([props.longitude, props.latitude]);\n    }\n    if (props.offset && !deepEqual(popup.options.offset, props.offset)) {\n      popup.setOffset(props.offset);\n    }\n    if (popup.options.anchor !== props.anchor || popup.options.maxWidth !== props.maxWidth) {\n      popup.options.anchor = props.anchor;\n      popup.setMaxWidth(props.maxWidth);\n    }\n    if (popup.options.className !== props.className) {\n      const prevClassList = getClassList(popup.options.className);\n      const nextClassList = getClassList(props.className);\n\n      for (const c of prevClassList) {\n        if (!nextClassList.has(c)) {\n          popup.removeClassName(c);\n        }\n      }\n      for (const c of nextClassList) {\n        if (!prevClassList.has(c)) {\n          popup.addClassName(c);\n        }\n      }\n      popup.options.className = props.className;\n    }\n  }\n\n  return createPortal(props.children, container);\n}\n\nexport default memo(forwardRef(Popup));\n", "import * as React from 'react';\nimport {useEffect, memo} from 'react';\nimport {applyReactStyle} from '../utils/apply-react-style';\nimport useControl from './use-control';\n\nimport type {ControlPosition, AttributionControlInstance} from '../types';\n\nexport type AttributionControlProps<OptionsT> = OptionsT & {\n  /** Placement of the control relative to the map. */\n  position?: ControlPosition;\n  /** CSS style override, applied to the control's container */\n  style?: React.CSSProperties;\n};\n\nfunction AttributionControl<AttributionControlOptions, ControlT extends AttributionControlInstance>(\n  props: AttributionControlProps<AttributionControlOptions>\n): null {\n  const ctrl = useControl<ControlT>(\n    ({mapLib}) => new mapLib.AttributionControl(props) as ControlT,\n    {\n      position: props.position\n    }\n  );\n\n  useEffect(() => {\n    applyReactStyle(ctrl._container, props.style);\n  }, [props.style]);\n\n  return null;\n}\n\nexport default memo(AttributionControl);\n", "import {useContext, useMemo, useEffect} from 'react';\nimport type {IControl, ControlPosition} from '../types';\nimport {MapContext} from './map';\nimport type {MapContextValue} from './map';\n\ntype ControlOptions = {\n  position?: ControlPosition;\n};\n\nfunction useControl<T extends IControl>(\n  onCreate: (context: MapContextValue) => T,\n  opts?: ControlOptions\n): T;\n\nfunction useControl<T extends IControl>(\n  onCreate: (context: MapContextValue) => T,\n  onRemove: (context: MapContextValue) => void,\n  opts?: ControlOptions\n): T;\n\nfunction useControl<T extends IControl>(\n  onCreate: (context: MapContextValue) => T,\n  onAdd: (context: MapContextValue) => void,\n  onRemove: (context: MapContextValue) => void,\n  opts?: ControlOptions\n): T;\n\nfunction useControl<T extends IControl>(\n  onCreate: (context: MapContextValue) => T,\n  arg1?: ((context: MapContextValue) => void) | ControlOptions,\n  arg2?: ((context: MapContextValue) => void) | ControlOptions,\n  arg3?: ControlOptions\n): T {\n  const context = useContext(MapContext);\n  const ctrl = useMemo(() => onCreate(context), []);\n\n  useEffect(() => {\n    const opts = (arg3 || arg2 || arg1) as ControlOptions;\n    const onAdd = typeof arg1 === 'function' && typeof arg2 === 'function' ? arg1 : null;\n    const onRemove = typeof arg2 === 'function' ? arg2 : typeof arg1 === 'function' ? arg1 : null;\n\n    const {map} = context;\n    if (!map.hasControl(ctrl)) {\n      map.addControl(ctrl, opts?.position);\n      if (onAdd) {\n        onAdd(context);\n      }\n    }\n\n    return () => {\n      if (onRemove) {\n        onRemove(context);\n      }\n      // Map might have been removed (parent effects are destroyed before child ones)\n      if (map.hasControl(ctrl)) {\n        map.removeControl(ctrl);\n      }\n    };\n  }, []);\n\n  return ctrl;\n}\n\nexport default useControl;\n", "/* global document */\nimport * as React from 'react';\nimport {useEffect, memo} from 'react';\nimport {applyReactStyle} from '../utils/apply-react-style';\nimport useControl from './use-control';\n\nimport type {ControlPosition, FullscreenControlInstance} from '../types';\n\nexport type FullscreenControlProps<OptionsT> = Omit<OptionsT, 'container'> & {\n  /** Id of the DOM element which should be made full screen. By default, the map container\n   * element will be made full screen. */\n  containerId?: string;\n  /** Placement of the control relative to the map. */\n  position?: ControlPosition;\n  /** CSS style override, applied to the control's container */\n  style?: React.CSSProperties;\n};\n\nfunction FullscreenControl<FullscreenControlOptions, ControlT extends FullscreenControlInstance>(\n  props: FullscreenControlProps<FullscreenControlOptions>\n): null {\n  const ctrl = useControl<ControlT>(\n    ({mapLib}) =>\n      new mapLib.FullscreenControl({\n        container: props.containerId && document.getElementById(props.containerId)\n      }) as ControlT,\n    {position: props.position}\n  );\n\n  useEffect(() => {\n    applyReactStyle(ctrl._controlContainer, props.style);\n  }, [props.style]);\n\n  return null;\n}\n\nexport default memo(FullscreenControl);\n", "import * as React from 'react';\nimport {useImperativeHandle, useRef, useEffect, forwardRef, memo} from 'react';\nimport {applyReactStyle} from '../utils/apply-react-style';\nimport useControl from './use-control';\n\nimport type {\n  ControlPosition,\n  GeolocateControlInstance,\n  GeolocateEvent,\n  GeolocateResultEvent,\n  GeolocateErrorEvent\n} from '../types';\n\nexport type GeolocateControlProps<\n  OptionsT,\n  ControlT extends GeolocateControlInstance\n> = OptionsT & {\n  /** Placement of the control relative to the map. */\n  position?: ControlPosition;\n  /** CSS style override, applied to the control's container */\n  style?: React.CSSProperties;\n\n  /** Called on each Geolocation API position update that returned as success. */\n  onGeolocate?: (e: GeolocateResultEvent<ControlT>) => void;\n  /** Called on each Geolocation API position update that returned as an error. */\n  onError?: (e: GeolocateErrorEvent<ControlT>) => void;\n  /** Called on each Geolocation API position update that returned as success but user position\n   * is out of map `maxBounds`. */\n  onOutOfMaxBounds?: (e: GeolocateResultEvent<ControlT>) => void;\n  /** Called when the GeolocateControl changes to the active lock state. */\n  onTrackUserLocationStart?: (e: GeolocateEvent<ControlT>) => void;\n  /** Called when the GeolocateControl changes to the background state. */\n  onTrackUserLocationEnd?: (e: GeolocateEvent<ControlT>) => void;\n};\n\nfunction GeolocateControl<GeolocateControlOptions, ControlT extends GeolocateControlInstance>(\n  props: GeolocateControlProps<GeolocateControlOptions, ControlT>,\n  ref: React.Ref<ControlT>\n) {\n  const thisRef = useRef({props});\n\n  const ctrl = useControl<ControlT>(\n    ({mapLib}) => {\n      const gc = new mapLib.GeolocateControl(props) as ControlT;\n\n      // Hack: fix GeolocateControl reuse\n      // When using React strict mode, the component is mounted twice.\n      // GeolocateControl's UI creation is asynchronous. Removing and adding it back causes the UI to be initialized twice.\n      // @ts-expect-error private method\n      const setupUI = gc._setupUI;\n      // @ts-expect-error private method\n      gc._setupUI = args => {\n        if (!gc._container.hasChildNodes()) {\n          setupUI(args);\n        }\n      };\n\n      gc.on('geolocate', e => {\n        thisRef.current.props.onGeolocate?.(e as GeolocateResultEvent<ControlT>);\n      });\n      gc.on('error', e => {\n        thisRef.current.props.onError?.(e as GeolocateErrorEvent<ControlT>);\n      });\n      gc.on('outofmaxbounds', e => {\n        thisRef.current.props.onOutOfMaxBounds?.(e as GeolocateResultEvent<ControlT>);\n      });\n      gc.on('trackuserlocationstart', e => {\n        thisRef.current.props.onTrackUserLocationStart?.(e as GeolocateEvent<ControlT>);\n      });\n      gc.on('trackuserlocationend', e => {\n        thisRef.current.props.onTrackUserLocationEnd?.(e as GeolocateEvent<ControlT>);\n      });\n\n      return gc;\n    },\n    {position: props.position}\n  );\n\n  thisRef.current.props = props;\n\n  useImperativeHandle(ref, () => ctrl, []);\n\n  useEffect(() => {\n    applyReactStyle(ctrl._container, props.style);\n  }, [props.style]);\n\n  return null;\n}\n\nexport default memo(forwardRef(GeolocateControl));\n", "import * as React from 'react';\nimport {useEffect, memo} from 'react';\nimport {applyReactStyle} from '../utils/apply-react-style';\nimport useControl from './use-control';\n\nimport type {ControlPosition, NavigationControlInstance} from '../types';\n\nexport type NavigationControlProps<OptionsT> = OptionsT & {\n  /** Placement of the control relative to the map. */\n  position?: ControlPosition;\n  /** CSS style override, applied to the control's container */\n  style?: React.CSSProperties;\n};\n\nfunction NavigationControl<NavigationControlOptions, ControlT extends NavigationControlInstance>(\n  props: NavigationControlProps<NavigationControlOptions>\n): null {\n  const ctrl = useControl<ControlT>(({mapLib}) => new mapLib.NavigationControl(props) as ControlT, {\n    position: props.position\n  });\n\n  useEffect(() => {\n    applyReactStyle(ctrl._container, props.style);\n  }, [props.style]);\n\n  return null;\n}\n\nexport default memo(NavigationControl);\n", "import * as React from 'react';\nimport {useEffect, useRef, memo} from 'react';\nimport {applyReactStyle} from '../utils/apply-react-style';\nimport useControl from './use-control';\n\nimport type {ControlPosition, ScaleControlInstance} from '../types';\n\nexport type ScaleControlProps<OptionsT> = OptionsT & {\n  // These props will be further constraint by OptionsT\n  unit?: string;\n  maxWidth?: number;\n\n  /** Placement of the control relative to the map. */\n  position?: ControlPosition;\n  /** CSS style override, applied to the control's container */\n  style?: React.CSSProperties;\n};\n\nfunction ScaleControl<ScaleControlOptions, ControlT extends ScaleControlInstance>(\n  props: ScaleControlProps<ScaleControlOptions>\n): null {\n  const ctrl = useControl<ControlT>(({mapLib}) => new mapLib.ScaleControl(props) as ControlT, {\n    position: props.position\n  });\n  const propsRef = useRef<ScaleControlProps<ScaleControlOptions>>(props);\n\n  const prevProps = propsRef.current;\n  propsRef.current = props;\n\n  const {style} = props;\n\n  if (props.maxWidth !== undefined && props.maxWidth !== prevProps.maxWidth) {\n    ctrl.options.maxWidth = props.maxWidth;\n  }\n  if (props.unit !== undefined && props.unit !== prevProps.unit) {\n    ctrl.setUnit(props.unit);\n  }\n\n  useEffect(() => {\n    applyReactStyle(ctrl._container, style);\n  }, [style]);\n\n  return null;\n}\n\nexport default memo(ScaleControl);\n", "import * as React from 'react';\nimport {useContext, useEffect, useMemo, useState, useRef} from 'react';\nimport {cloneElement} from 'react';\nimport {MapContext} from './map';\nimport assert from '../utils/assert';\nimport {deepEqual} from '../utils/deep-equal';\n\nimport type {\n  MapInstance,\n  AnySource,\n  CustomSource,\n  GeoJSONSource,\n  GeoJSONSourceImplementation,\n  ImageSource,\n  ImageSourceImplemtation,\n  VectorSource,\n  AnySourceImplementation\n} from '../types';\n\nexport type SourceProps = (AnySource | CustomSource) & {\n  id?: string;\n  children?: any;\n};\n\nlet sourceCounter = 0;\n\nfunction createSource(map: MapInstance, id: string, props: SourceProps) {\n  // @ts-ignore\n  if (map.style && map.style._loaded) {\n    const options = {...props};\n    delete options.id;\n    delete options.children;\n    // @ts-ignore\n    map.addSource(id, options);\n    return map.getSource(id);\n  }\n  return null;\n}\n\n/* eslint-disable complexity */\nfunction updateSource(source: AnySourceImplementation, props: SourceProps, prevProps: SourceProps) {\n  assert(props.id === prevProps.id, 'source id changed');\n  assert(props.type === prevProps.type, 'source type changed');\n\n  let changedKey = '';\n  let changedKeyCount = 0;\n\n  for (const key in props) {\n    if (key !== 'children' && key !== 'id' && !deepEqual(prevProps[key], props[key])) {\n      changedKey = key;\n      changedKeyCount++;\n    }\n  }\n\n  if (!changedKeyCount) {\n    return;\n  }\n\n  const type = props.type;\n\n  if (type === 'geojson') {\n    (source as GeoJSONSourceImplementation).setData((props as GeoJSONSource).data as any);\n  } else if (type === 'image') {\n    (source as ImageSourceImplemtation).updateImage({\n      url: props.url,\n      coordinates: props.coordinates\n    });\n  } else if ('setCoordinates' in source && changedKeyCount === 1 && changedKey === 'coordinates') {\n    source.setCoordinates((props as unknown as ImageSource).coordinates);\n  } else if ('setUrl' in source) {\n    // Added in 1.12.0:\n    // vectorTileSource.setTiles\n    // vectorTileSource.setUrl\n    switch (changedKey) {\n      case 'url':\n        source.setUrl((props as unknown as VectorSource).url);\n        break;\n      case 'tiles':\n        source.setTiles((props as unknown as VectorSource).tiles);\n        break;\n      default:\n    }\n  } else {\n    // eslint-disable-next-line\n    console.warn(`Unable to update <Source> prop: ${changedKey}`);\n  }\n}\n/* eslint-enable complexity */\n\nfunction Source(props: SourceProps) {\n  const map = useContext(MapContext).map.getMap();\n  const propsRef = useRef(props);\n  const [, setStyleLoaded] = useState(0);\n\n  const id = useMemo(() => props.id || `jsx-source-${sourceCounter++}`, []);\n\n  useEffect(() => {\n    if (map) {\n      /* global setTimeout */\n      const forceUpdate = () => setTimeout(() => setStyleLoaded(version => version + 1), 0);\n      map.on('styledata', forceUpdate);\n      forceUpdate();\n\n      return () => {\n        map.off('styledata', forceUpdate);\n        // @ts-ignore\n        if (map.style && map.style._loaded && map.getSource(id)) {\n          // Parent effects are destroyed before child ones, see\n          // https://github.com/facebook/react/issues/16728\n          // Source can only be removed after all child layers are removed\n          const allLayers = map.getStyle()?.layers;\n          if (allLayers) {\n            for (const layer of allLayers) {\n              // @ts-ignore (2339) source does not exist on all layer types\n              if (layer.source === id) {\n                map.removeLayer(layer.id);\n              }\n            }\n          }\n          map.removeSource(id);\n        }\n      };\n    }\n    return undefined;\n  }, [map]);\n\n  // @ts-ignore\n  let source = map && map.style && map.getSource(id);\n  if (source) {\n    updateSource(source, props, propsRef.current);\n  } else {\n    source = createSource(map, id, props);\n  }\n  propsRef.current = props;\n\n  return (\n    (source &&\n      React.Children.map(\n        props.children,\n        child =>\n          child &&\n          cloneElement(child, {\n            source: id\n          })\n      )) ||\n    null\n  );\n}\n\nexport default Source;\n", "import {useContext, useEffect, useMemo, useState, useRef} from 'react';\nimport {MapContext} from './map';\nimport assert from '../utils/assert';\nimport {deepEqual} from '../utils/deep-equal';\n\nimport type {MapInstance, AnyLayer, CustomLayerInterface} from '../types';\n\n// Omiting property from a union type, see\n// https://github.com/microsoft/TypeScript/issues/39556#issuecomment-656925230\ntype OptionalId<T> = T extends {id: string} ? Omit<T, 'id'> & {id?: string} : T;\ntype OptionalSource<T> = T extends {source: string} ? Omit<T, 'source'> & {source?: string} : T;\n\nexport type LayerProps = OptionalSource<OptionalId<AnyLayer | CustomLayerInterface>> & {\n  /** If set, the layer will be inserted before the specified layer */\n  beforeId?: string;\n};\n\n/* eslint-disable complexity, max-statements */\nfunction updateLayer(map: MapInstance, id: string, props: LayerProps, prevProps: LayerProps) {\n  assert(props.id === prevProps.id, 'layer id changed');\n  assert(props.type === prevProps.type, 'layer type changed');\n\n  if (props.type === 'custom' || prevProps.type === 'custom') {\n    return;\n  }\n\n  const {\n    layout = {},\n    paint = {},\n    // @ts-expect-error filter is not defined on some layer types\n    filter,\n    minzoom,\n    maxzoom,\n    beforeId\n  } = props;\n\n  if (beforeId !== prevProps.beforeId) {\n    map.moveLayer(id, beforeId);\n  }\n  if (layout !== prevProps.layout) {\n    const prevLayout = prevProps.layout || {};\n    for (const key in layout) {\n      if (!deepEqual(layout[key], prevLayout[key])) {\n        map.setLayoutProperty(id, key, layout[key]);\n      }\n    }\n    for (const key in prevLayout) {\n      if (!layout.hasOwnProperty(key)) {\n        map.setLayoutProperty(id, key, undefined);\n      }\n    }\n  }\n  if (paint !== prevProps.paint) {\n    const prevPaint = prevProps.paint || {};\n    for (const key in paint) {\n      if (!deepEqual(paint[key], prevPaint[key])) {\n        map.setPaintProperty(id, key, paint[key]);\n      }\n    }\n    for (const key in prevPaint) {\n      if (!paint.hasOwnProperty(key)) {\n        map.setPaintProperty(id, key, undefined);\n      }\n    }\n  }\n  // @ts-expect-error filter is not defined on some layer types\n  if (!deepEqual(filter, prevProps.filter)) {\n    map.setFilter(id, filter);\n  }\n  if (minzoom !== prevProps.minzoom || maxzoom !== prevProps.maxzoom) {\n    map.setLayerZoomRange(id, minzoom, maxzoom);\n  }\n}\n\nfunction createLayer(map: MapInstance, id: string, props: LayerProps) {\n  // @ts-ignore\n  if (map.style && map.style._loaded && (!('source' in props) || map.getSource(props.source))) {\n    const options: LayerProps = {...props, id};\n    delete options.beforeId;\n\n    // @ts-ignore\n    map.addLayer(options, props.beforeId);\n  }\n}\n\n/* eslint-enable complexity, max-statements */\n\nlet layerCounter = 0;\n\nfunction Layer(props: LayerProps) {\n  const map = useContext(MapContext).map.getMap();\n  const propsRef = useRef(props);\n  const [, setStyleLoaded] = useState(0);\n\n  const id = useMemo(() => props.id || `jsx-layer-${layerCounter++}`, []);\n\n  useEffect(() => {\n    if (map) {\n      const forceUpdate = () => setStyleLoaded(version => version + 1);\n      map.on('styledata', forceUpdate);\n      forceUpdate();\n\n      return () => {\n        map.off('styledata', forceUpdate);\n        // @ts-ignore\n        if (map.style && map.style._loaded && map.getLayer(id)) {\n          map.removeLayer(id);\n        }\n      };\n    }\n    return undefined;\n  }, [map]);\n\n  // @ts-ignore\n  const layer = map && map.style && map.getLayer(id);\n  if (layer) {\n    try {\n      updateLayer(map, id, props, propsRef.current);\n    } catch (error) {\n      console.warn(error); // eslint-disable-line\n    }\n  } else {\n    createLayer(map, id, props);\n  }\n\n  // Store last rendered props\n  propsRef.current = props;\n\n  return null;\n}\n\nexport default Layer;\n", "\n        if (!window.$RefreshReg$ || !window.$RefreshSig$ || !window.$RefreshRuntime$) {\n          console.warn('remix:hmr: React Fast Refresh only works when the Remix compiler is running in development mode.');\n        } else {\n          var prevRefreshReg = window.$RefreshReg$;\n          var prevRefreshSig = window.$RefreshSig$;\n          window.$RefreshReg$ = (type, id) => {\n            window.$RefreshRuntime$.register(type, \"\\\"app/components/cluster-map/MarkerPin.tsx\\\"\" + id);\n          }\n          window.$RefreshSig$ = window.$RefreshRuntime$.createSignatureFunctionForTransform;\n        }\n      import { jsx } from \"react/jsx-runtime\";\nimport * as __hmr__ from \"remix:hmr\";\nif (import.meta) {\n  import.meta.hot = __hmr__.createHotContext(\n  //@ts-expect-error\n  \"app/components/cluster-map/MarkerPin.tsx\");\n  import.meta.hot.lastModified = \"1689128796471.4363\";\n}\nimport { Marker } from \"react-map-gl\";\nimport { BuildingOfficeIcon, TvIcon } from \"@heroicons/react/24/solid\";\nconst MarkerPin = ({\n  data,\n  onMarkerClick\n}) => {\n  const [longitude, latitude] = data.geometry.coordinates;\n  return /* @__PURE__ */jsx(Marker, {\n    longitude,\n    latitude,\n    children: /* @__PURE__ */jsx(\"div\", {\n      onClick: () => onMarkerClick?.(data),\n      children: getPinIcon(data.properties.media_type)\n    })\n  }, data.properties.siteId);\n};\n_c = MarkerPin;\nconst getPinIcon = pinType => {\n  switch (pinType) {\n    case \"Billboards\":\n      return /* @__PURE__ */jsx(TvIcon, {\n        className: \"block h-6 w-6 pin-billboard\",\n        \"aria-hidden\": true\n      });\n    default:\n      return /* @__PURE__ */jsx(BuildingOfficeIcon, {\n        className: \"block h-6 w-6 pin-building\",\n        \"aria-hidden\": true\n      });\n  }\n};\nexport { MarkerPin, getPinIcon };\nvar _c;\n$RefreshReg$(_c, \"MarkerPin\");\n        window.$RefreshReg$ = prevRefreshReg;\n        window.$RefreshSig$ = prevRefreshSig;\n      ", "import * as React from \"react\";\nfunction BuildingOfficeIcon({\n  title,\n  titleId,\n  ...props\n}, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 24 24\",\n    fill: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    fillRule: \"evenodd\",\n    d: \"M4.5 2.25a.75.75 0 000 1.5v16.5h-.75a.75.75 0 000 1.5h16.5a.75.75 0 000-1.5h-.75V3.75a.75.75 0 000-1.5h-15zM9 6a.75.75 0 000 1.5h1.5a.75.75 0 000-1.5H9zm-.75 3.75A.75.75 0 019 9h1.5a.75.75 0 010 1.5H9a.75.75 0 01-.75-.75zM9 12a.75.75 0 000 1.5h1.5a.75.75 0 000-1.5H9zm3.75-5.25A.75.75 0 0113.5 6H15a.75.75 0 010 1.5h-1.5a.75.75 0 01-.75-.75zM13.5 9a.75.75 0 000 1.5H15A.75.75 0 0015 9h-1.5zm-.75 3.75a.75.75 0 01.75-.75H15a.75.75 0 010 1.5h-1.5a.75.75 0 01-.75-.75zM9 19.5v-2.25a.75.75 0 01.75-.75h4.5a.75.75 0 01.75.75v2.25a.75.75 0 01-.75.75h-4.5A.75.75 0 019 19.5z\",\n    clipRule: \"evenodd\"\n  }));\n}\nconst ForwardRef = React.forwardRef(BuildingOfficeIcon);\nexport default ForwardRef;", "import * as React from \"react\";\nfunction TvIcon({\n  title,\n  titleId,\n  ...props\n}, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 24 24\",\n    fill: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M19.5 6h-15v9h15V6z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    fillRule: \"evenodd\",\n    d: \"M3.375 3C2.339 3 1.5 3.84 1.5 4.875v11.25C1.5 17.16 2.34 18 3.375 18H9.75v1.5H6A.75.75 0 006 21h12a.75.75 0 000-1.5h-3.75V18h6.375c1.035 0 1.875-.84 1.875-1.875V4.875C22.5 3.839 21.66 3 20.625 3H3.375zm0 13.5h17.25a.375.375 0 00.375-.375V4.875a.375.375 0 00-.375-.375H3.375A.375.375 0 003 4.875v11.25c0 .207.168.375.375.375z\",\n    clipRule: \"evenodd\"\n  }));\n}\nconst ForwardRef = React.forwardRef(TvIcon);\nexport default ForwardRef;", "\n        if (!window.$RefreshReg$ || !window.$RefreshSig$ || !window.$RefreshRuntime$) {\n          console.warn('remix:hmr: React Fast Refresh only works when the Remix compiler is running in development mode.');\n        } else {\n          var prevRefreshReg = window.$RefreshReg$;\n          var prevRefreshSig = window.$RefreshSig$;\n          window.$RefreshReg$ = (type, id) => {\n            window.$RefreshRuntime$.register(type, \"\\\"app/components/cluster-map/ClusterPin.tsx\\\"\" + id);\n          }\n          window.$RefreshSig$ = window.$RefreshRuntime$.createSignatureFunctionForTransform;\n        }\n      import { jsx } from \"react/jsx-runtime\";\nimport * as __hmr__ from \"remix:hmr\";\nif (import.meta) {\n  import.meta.hot = __hmr__.createHotContext(\n  //@ts-expect-error\n  \"app/components/cluster-map/ClusterPin.tsx\");\n  import.meta.hot.lastModified = \"1689131884155.7\";\n}\nimport { Marker } from \"react-map-gl\";\nconst ClusterPin = ({\n  latitude,\n  longitude,\n  pointCount,\n  onClusterPinClick\n}) => {\n  return /* @__PURE__ */jsx(Marker, {\n    longitude,\n    latitude,\n    children: /* @__PURE__ */jsx(\"div\", {\n      className: \"flex justify-center items-center text-md border-2 rounded-full bg-slate-300 opacity-50 hover:opacity-100\",\n      style: {\n        width: `50px`,\n        height: `50px`\n      },\n      onClick: () => onClusterPinClick(),\n      children: pointCount\n    })\n  });\n};\n_c = ClusterPin;\nexport { ClusterPin };\nvar _c;\n$RefreshReg$(_c, \"ClusterPin\");\n        window.$RefreshReg$ = prevRefreshReg;\n        window.$RefreshSig$ = prevRefreshSig;\n      ", "import * as __hmr__ from \"remix:hmr\";\nif (import.meta) {\n  import.meta.hot = __hmr__.createHotContext(\n    //@ts-expect-error\n    \"app/components/cluster-map/constants.ts\"\n  );\n  import.meta.hot.lastModified = \"1689117227338.4077\";\n}\nconst MAP_STYLE = \"mapbox://styles/jasonaliao/cljwp7s4p00ad01rd6u6s6uyc\";\nconst MAP_ORIGIN = { latitude: -36.85361, longitude: 174.76499 };\nconst MAP_ZOOM_DEFAULT = 9;\nconst MAP_MAX_ZOOM_DEFAULT = 20;\nconst MAP_BOUND_DEFAULT = [-180, -85, 180, 85];\nconst MAP_CLUSTER_RADIUS_DEFAULT = 50;\nexport {\n  MAP_BOUND_DEFAULT,\n  MAP_CLUSTER_RADIUS_DEFAULT,\n  MAP_MAX_ZOOM_DEFAULT,\n  MAP_ORIGIN,\n  MAP_STYLE,\n  MAP_ZOOM_DEFAULT\n};\n", "\n        if (!window.$RefreshReg$ || !window.$RefreshSig$ || !window.$RefreshRuntime$) {\n          console.warn('remix:hmr: React Fast Refresh only works when the Remix compiler is running in development mode.');\n        } else {\n          var prevRefreshReg = window.$RefreshReg$;\n          var prevRefreshSig = window.$RefreshSig$;\n          window.$RefreshReg$ = (type, id) => {\n            window.$RefreshRuntime$.register(type, \"\\\"app/components/dooh-finder/DoohDetails.tsx\\\"\" + id);\n          }\n          window.$RefreshSig$ = window.$RefreshRuntime$.createSignatureFunctionForTransform;\n        }\n      var _s = $RefreshSig$();\nimport { jsx, jsxs } from \"react/jsx-runtime\";\nimport * as __hmr__ from \"remix:hmr\";\nif (import.meta) {\n  import.meta.hot = __hmr__.createHotContext(\n  //@ts-expect-error\n  \"app/components/dooh-finder/DoohDetails.tsx\");\n  import.meta.hot.lastModified = \"1689131625199.7917\";\n}\nimport { useFetcher } from \"@remix-run/react\";\nimport { useEffect } from \"react\";\nimport { QUERY_DOOH_BY_ID } from \"~/routes/get-dooh-by-id\";\nconst DoohDetails = ({\n  selectedId\n}) => {\n  _s();\n  const fetcher = useFetcher();\n  const {\n    data\n  } = fetcher;\n  useEffect(() => {\n    const formData = new FormData();\n    formData.append(\"id\", selectedId.toString());\n    if (fetcher.state === \"idle\" && !fetcher.data) {\n      fetcher.submit(formData, {\n        method: \"GET\",\n        action: QUERY_DOOH_BY_ID\n      });\n    }\n  }, [selectedId, fetcher]);\n  if (!data || fetcher.state === \"loading\") {\n    return /* @__PURE__ */jsx(\"div\", {\n      children: \"loading\"\n    });\n  }\n  return /* @__PURE__ */jsxs(\"div\", {\n    children: [/* @__PURE__ */jsx(\"div\", {\n      className: \"text-xl font-semibold text-black\",\n      children: data.media_owner\n    }), /* @__PURE__ */jsx(\"div\", {\n      className: \"text-sm text-gray-600\",\n      children: data.site_name\n    }), /* @__PURE__ */jsxs(\"div\", {\n      className: \"mt-8\",\n      children: [/* @__PURE__ */jsx(\"div\", {\n        className: \"text-sm text-gray-600\",\n        children: `Display resolution: ${formatResolution(data.resolution)}`\n      }), /* @__PURE__ */jsx(\"div\", {\n        className: \"text-sm text-gray-600\",\n        children: `Recommended resolution: ${formatResolution(data.creative_dimension)}`\n      })]\n    }), /* @__PURE__ */jsx(\"div\", {\n      className: \"mt-8\",\n      children: /* @__PURE__ */jsx(\"button\", {\n        className: \"bg-blue-500 hover:bg-blue-700 text-white py-2 px-4 rounded-full\",\n        children: \"Book now\"\n      })\n    })]\n  });\n};\n_s(DoohDetails, \"WjihN4CabdhkHDxQoVW7dBj/pPI=\", false, function () {\n  return [useFetcher];\n});\n_c = DoohDetails;\nconst formatResolution = resolution => {\n  if (!resolution) return \"\";\n  const [width, height] = resolution.split(\"x\");\n  return `${width}px by ${height}px`;\n};\nexport { DoohDetails };\nvar _c;\n$RefreshReg$(_c, \"DoohDetails\");\n        window.$RefreshReg$ = prevRefreshReg;\n        window.$RefreshSig$ = prevRefreshSig;\n      ", "import * as __hmr__ from \"remix:hmr\";\nif (import.meta) {\n  import.meta.hot = __hmr__.createHotContext(\n    //@ts-expect-error\n    \"app/routes/get-dooh-by-id.tsx\"\n  );\n  import.meta.hot.lastModified = \"1689115703669.6418\";\n}\nimport supabase from \"utils/supabase\";\nconst loader = async ({ request }) => {\n  const url = new URL(request.url);\n  const id = url.searchParams.get(\"id\");\n  const { data } = await supabase.from(\"creative_dimension\").select().eq(\"id\", id);\n  if (!data?.[0]) {\n    throw new Response(null, {\n      status: 404,\n      statusText: \"Dooh not Found\"\n    });\n  }\n  return data[0];\n};\nconst QUERY_DOOH_BY_ID = \"/get-dooh-by-id\";\nexport {\n  QUERY_DOOH_BY_ID,\n  loader\n};\n", "\n        if (!window.$RefreshReg$ || !window.$RefreshSig$ || !window.$RefreshRuntime$) {\n          console.warn('remix:hmr: React Fast Refresh only works when the Remix compiler is running in development mode.');\n        } else {\n          var prevRefreshReg = window.$RefreshReg$;\n          var prevRefreshSig = window.$RefreshSig$;\n          window.$RefreshReg$ = (type, id) => {\n            window.$RefreshRuntime$.register(type, \"\\\"app/components/slide-in-drawer/SlideInDrawer.tsx\\\"\" + id);\n          }\n          window.$RefreshSig$ = window.$RefreshRuntime$.createSignatureFunctionForTransform;\n        }\n      import { Fragment, jsx, jsxs } from \"react/jsx-runtime\";\nimport * as __hmr__ from \"remix:hmr\";\nif (import.meta) {\n  import.meta.hot = __hmr__.createHotContext(\n  //@ts-expect-error\n  \"app/components/slide-in-drawer/SlideInDrawer.tsx\");\n  import.meta.hot.lastModified = \"1689132233798.863\";\n}\nimport { Fragment as Fragment2 } from \"react\";\nimport { Dialog, Transition } from \"@headlessui/react\";\nimport { XMarkIcon } from \"@heroicons/react/24/outline\";\nconst SlideInDrawer = ({\n  open,\n  onClose,\n  children\n}) => {\n  return /* @__PURE__ */jsx(Fragment, {\n    children: /* @__PURE__ */jsx(Transition.Root, {\n      show: open,\n      as: Fragment2,\n      children: /* @__PURE__ */jsxs(Dialog, {\n        as: \"div\",\n        className: \"relative z-10\",\n        onClose,\n        children: [/* @__PURE__ */jsx(Transition.Child, {\n          as: Fragment2,\n          enter: \"ease-in-out duration-500\",\n          enterFrom: \"opacity-0\",\n          enterTo: \"opacity-100\",\n          leave: \"ease-in-out duration-500\",\n          leaveFrom: \"opacity-100\",\n          leaveTo: \"opacity-0\",\n          children: /* @__PURE__ */jsx(\"div\", {\n            className: \"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity\"\n          })\n        }), /* @__PURE__ */jsx(\"div\", {\n          className: \"fixed inset-0 overflow-hidden\",\n          children: /* @__PURE__ */jsx(\"div\", {\n            className: \"absolute inset-0 overflow-hidden\",\n            children: /* @__PURE__ */jsx(\"div\", {\n              className: \"pointer-events-none fixed inset-y-0 right-0 flex max-w-full pl-10\",\n              children: /* @__PURE__ */jsx(Transition.Child, {\n                as: Fragment2,\n                enter: \"transform transition ease-in-out duration-500 sm:duration-700\",\n                enterFrom: \"translate-x-full\",\n                enterTo: \"translate-x-0\",\n                leave: \"transform transition ease-in-out duration-500 sm:duration-700\",\n                leaveFrom: \"translate-x-0\",\n                leaveTo: \"translate-x-full\",\n                children: /* @__PURE__ */jsxs(Dialog.Panel, {\n                  className: \"pointer-events-auto relative w-screen max-w-xl\",\n                  children: [/* @__PURE__ */jsx(Transition.Child, {\n                    as: Fragment2,\n                    enter: \"ease-in-out duration-500\",\n                    enterFrom: \"opacity-0\",\n                    enterTo: \"opacity-100\",\n                    leave: \"ease-in-out duration-500\",\n                    leaveFrom: \"opacity-100\",\n                    leaveTo: \"opacity-0\",\n                    children: /* @__PURE__ */jsx(\"div\", {\n                      className: \"absolute left-0 top-0 -ml-8 flex pr-2 pt-4 sm:-ml-10 sm:pr-4\",\n                      children: /* @__PURE__ */jsxs(\"button\", {\n                        type: \"button\",\n                        className: \"rounded-md text-gray-300 hover:text-white focus:outline-none focus:ring-2 focus:ring-white\",\n                        onClick: () => onClose(),\n                        children: [/* @__PURE__ */jsx(\"span\", {\n                          className: \"sr-only\",\n                          children: \"Close panel\"\n                        }), /* @__PURE__ */jsx(XMarkIcon, {\n                          className: \"h-6 w-6\",\n                          \"aria-hidden\": \"true\"\n                        })]\n                      })\n                    })\n                  }), /* @__PURE__ */jsx(\"div\", {\n                    className: \"flex h-full flex-col overflow-y-scroll bg-white py-6 shadow-xl\",\n                    children: /* @__PURE__ */jsx(\"div\", {\n                      className: \"relative mt-6 flex-1 px-4 sm:px-6\",\n                      children\n                    })\n                  })]\n                })\n              })\n            })\n          })\n        })]\n      })\n    })\n  });\n};\n_c = SlideInDrawer;\nexport { SlideInDrawer };\nvar _c;\n$RefreshReg$(_c, \"SlideInDrawer\");\n        window.$RefreshReg$ = prevRefreshReg;\n        window.$RefreshSig$ = prevRefreshSig;\n      ", "import{useLayoutEffect as t,useEffect as c}from\"react\";import{env as i}from'../utils/env.js';let l=(e,f)=>{i.isServer?c(e,f):t(e,f)};export{l as useIsoMorphicEffect};\n", "var i=Object.defineProperty;var d=(t,e,n)=>e in t?i(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var r=(t,e,n)=>(d(t,typeof e!=\"symbol\"?e+\"\":e,n),n);class o{constructor(){r(this,\"current\",this.detect());r(this,\"handoffState\",\"pending\");r(this,\"currentId\",0)}set(e){this.current!==e&&(this.handoffState=\"pending\",this.currentId=0,this.current=e)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current===\"server\"}get isClient(){return this.current===\"client\"}detect(){return typeof window==\"undefined\"||typeof document==\"undefined\"?\"server\":\"client\"}handoff(){this.handoffState===\"pending\"&&(this.handoffState=\"complete\")}get isHandoffComplete(){return this.handoffState===\"complete\"}}let s=new o;export{s as env};\n", "import{useRef as t}from\"react\";import{useIsoMorphicEffect as o}from'./use-iso-morphic-effect.js';function s(e){let r=t(e);return o(()=>{r.current=e},[e]),r}export{s as useLatestValue};\n", "import{useState as s,useEffect as o}from\"react\";import{disposables as t}from'../utils/disposables.js';function p(){let[e]=s(t);return o(()=>()=>e.dispose(),[e]),e}export{p as useDisposables};\n", "function t(e){typeof queueMicrotask==\"function\"?queueMicrotask(e):Promise.resolve().then(e).catch(o=>setTimeout(()=>{throw o}))}export{t as microTask};\n", "import{microTask as i}from'./micro-task.js';function o(){let n=[],r={addEventListener(e,t,s,a){return e.addEventListener(t,s,a),r.add(()=>e.removeEventListener(t,s,a))},requestAnimationFrame(...e){let t=requestAnimationFrame(...e);return r.add(()=>cancelAnimationFrame(t))},nextFrame(...e){return r.requestAnimationFrame(()=>r.requestAnimationFrame(...e))},setTimeout(...e){let t=setTimeout(...e);return r.add(()=>clearTimeout(t))},microTask(...e){let t={current:!0};return i(()=>{t.current&&e[0]()}),r.add(()=>{t.current=!1})},style(e,t,s){let a=e.style.getPropertyValue(t);return Object.assign(e.style,{[t]:s}),this.add(()=>{Object.assign(e.style,{[t]:a})})},group(e){let t=o();return e(t),this.add(()=>t.dispose())},add(e){return n.push(e),()=>{let t=n.indexOf(e);if(t>=0)for(let s of n.splice(t,1))s()}},dispose(){for(let e of n.splice(0))e()}};return r}export{o as disposables};\n", "import a from\"react\";import{useLatestValue as n}from'./use-latest-value.js';let o=function(t){let e=n(t);return a.useCallback((...r)=>e.current(...r),[e])};export{o as useEvent};\n", "var o;import t from\"react\";import{useIsoMorphicEffect as d}from'./use-iso-morphic-effect.js';import{useServerHandoffComplete as f}from'./use-server-handoff-complete.js';import{env as r}from'../utils/env.js';let I=(o=t.useId)!=null?o:function(){let n=f(),[e,u]=t.useState(n?()=>r.nextId():null);return d(()=>{e===null&&u(r.nextId())},[e]),e!=null?\"\"+e:void 0};export{I as useId};\n", "import{useState as r,useEffect as o}from\"react\";import{env as t}from'../utils/env.js';function l(){let[e,f]=r(t.isHandoffComplete);return e&&t.isHandoffComplete===!1&&f(!1),o(()=>{e!==!0&&f(!0)},[e]),o(()=>t.handoff(),[]),e}export{l as useServerHandoffComplete};\n", "import{useEffect as d,useRef as c}from\"react\";import{FocusableMode as p,isFocusableElement as C}from'../utils/focus-management.js';import{useDocumentEvent as f}from'./use-document-event.js';import{useWindowEvent as M}from'./use-window-event.js';function H(s,m,i=!0){let l=c(!1);d(()=>{requestAnimationFrame(()=>{l.current=i})},[i]);function a(e,o){if(!l.current||e.defaultPrevented)return;let n=o(e);if(n===null||!n.getRootNode().contains(n))return;let E=function r(t){return typeof t==\"function\"?r(t()):Array.isArray(t)||t instanceof Set?t:[t]}(s);for(let r of E){if(r===null)continue;let t=r instanceof HTMLElement?r:r.current;if(t!=null&&t.contains(n)||e.composed&&e.composedPath().includes(t))return}return!C(n,p.Loose)&&n.tabIndex!==-1&&e.preventDefault(),m(e,n)}let u=c(null);f(\"mousedown\",e=>{var o,n;l.current&&(u.current=((n=(o=e.composedPath)==null?void 0:o.call(e))==null?void 0:n[0])||e.target)},!0),f(\"click\",e=>{u.current&&(a(e,()=>u.current),u.current=null)},!0),M(\"blur\",e=>a(e,()=>window.document.activeElement instanceof HTMLIFrameElement?window.document.activeElement:null),!0)}export{H as useOutsideClick};\n", "function u(r,n,...a){if(r in n){let e=n[r];return typeof e==\"function\"?e(...a):e}let t=new Error(`Tried to handle \"${r}\" but there is no handler defined. Only defined handlers are: ${Object.keys(n).map(e=>`\"${e}\"`).join(\", \")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,u),t}export{u as match};\n", "import{env as n}from'./env.js';function e(r){return n.isServer?null:r instanceof Node?r.ownerDocument:r!=null&&r.hasOwnProperty(\"current\")&&r.current instanceof Node?r.current.ownerDocument:document}export{e as getOwnerDocument};\n", "import{disposables as b}from'./disposables.js';import{match as L}from'./match.js';import{getOwnerDocument as m}from'./owner.js';let c=[\"[contentEditable=true]\",\"[tabindex]\",\"a[href]\",\"area[href]\",\"button:not([disabled])\",\"iframe\",\"input:not([disabled])\",\"select:not([disabled])\",\"textarea:not([disabled])\"].map(e=>`${e}:not([tabindex='-1'])`).join(\",\");var M=(n=>(n[n.First=1]=\"First\",n[n.Previous=2]=\"Previous\",n[n.Next=4]=\"Next\",n[n.Last=8]=\"Last\",n[n.WrapAround=16]=\"WrapAround\",n[n.NoScroll=32]=\"NoScroll\",n))(M||{}),N=(o=>(o[o.Error=0]=\"Error\",o[o.Overflow=1]=\"Overflow\",o[o.Success=2]=\"Success\",o[o.Underflow=3]=\"Underflow\",o))(N||{}),F=(t=>(t[t.Previous=-1]=\"Previous\",t[t.Next=1]=\"Next\",t))(F||{});function f(e=document.body){return e==null?[]:Array.from(e.querySelectorAll(c)).sort((r,t)=>Math.sign((r.tabIndex||Number.MAX_SAFE_INTEGER)-(t.tabIndex||Number.MAX_SAFE_INTEGER)))}var T=(t=>(t[t.Strict=0]=\"Strict\",t[t.Loose=1]=\"Loose\",t))(T||{});function h(e,r=0){var t;return e===((t=m(e))==null?void 0:t.body)?!1:L(r,{[0](){return e.matches(c)},[1](){let l=e;for(;l!==null;){if(l.matches(c))return!0;l=l.parentElement}return!1}})}function D(e){let r=m(e);b().nextFrame(()=>{r&&!h(r.activeElement,0)&&y(e)})}var w=(t=>(t[t.Keyboard=0]=\"Keyboard\",t[t.Mouse=1]=\"Mouse\",t))(w||{});typeof window!=\"undefined\"&&typeof document!=\"undefined\"&&(document.addEventListener(\"keydown\",e=>{e.metaKey||e.altKey||e.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible=\"\")},!0),document.addEventListener(\"click\",e=>{e.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:e.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible=\"\")},!0));function y(e){e==null||e.focus({preventScroll:!0})}let S=[\"textarea\",\"input\"].join(\",\");function H(e){var r,t;return(t=(r=e==null?void 0:e.matches)==null?void 0:r.call(e,S))!=null?t:!1}function I(e,r=t=>t){return e.slice().sort((t,l)=>{let o=r(t),i=r(l);if(o===null||i===null)return 0;let n=o.compareDocumentPosition(i);return n&Node.DOCUMENT_POSITION_FOLLOWING?-1:n&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function _(e,r){return O(f(),r,{relativeTo:e})}function O(e,r,{sorted:t=!0,relativeTo:l=null,skipElements:o=[]}={}){let i=Array.isArray(e)?e.length>0?e[0].ownerDocument:document:e.ownerDocument,n=Array.isArray(e)?t?I(e):e:f(e);o.length>0&&n.length>1&&(n=n.filter(s=>!o.includes(s))),l=l!=null?l:i.activeElement;let E=(()=>{if(r&5)return 1;if(r&10)return-1;throw new Error(\"Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last\")})(),x=(()=>{if(r&1)return 0;if(r&2)return Math.max(0,n.indexOf(l))-1;if(r&4)return Math.max(0,n.indexOf(l))+1;if(r&8)return n.length-1;throw new Error(\"Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last\")})(),p=r&32?{preventScroll:!0}:{},d=0,a=n.length,u;do{if(d>=a||d+a<=0)return 0;let s=x+d;if(r&16)s=(s+a)%a;else{if(s<0)return 3;if(s>=a)return 1}u=n[s],u==null||u.focus(p),d+=E}while(u!==i.activeElement);return r&6&&H(u)&&u.select(),2}export{M as Focus,N as FocusResult,T as FocusableMode,y as focusElement,_ as focusFrom,O as focusIn,f as getFocusableElements,h as isFocusableElement,D as restoreFocusIfNecessary,I as sortByDomNode};\n", "import{useEffect as m}from\"react\";import{useLatestValue as c}from'./use-latest-value.js';function d(e,r,n){let o=c(r);m(()=>{function t(u){o.current(u)}return document.addEventListener(e,t,n),()=>document.removeEventListener(e,t,n)},[e,n])}export{d as useDocumentEvent};\n", "import{useEffect as d}from\"react\";import{useLatestValue as a}from'./use-latest-value.js';function s(e,r,n){let o=a(r);d(()=>{function t(i){o.current(i)}return window.addEventListener(e,t,n),()=>window.removeEventListener(e,t,n)},[e,n])}export{s as useWindowEvent};\n", "import{useRef as l,useEffect as i}from\"react\";import{useEvent as r}from'./use-event.js';let u=Symbol();function T(t,n=!0){return Object.assign(t,{[u]:n})}function y(...t){let n=l(t);i(()=>{n.current=t},[t]);let c=r(e=>{for(let o of n.current)o!=null&&(typeof o==\"function\"?o(e):o.current=e)});return t.every(e=>e==null||(e==null?void 0:e[u]))?void 0:c}export{T as optionalRef,y as useSyncRefs};\n", "import{Fragment as T,cloneElement as x,createElement as E,forwardRef as b,isValidElement as h}from\"react\";import{classNames as F}from'./class-names.js';import{match as P}from'./match.js';var S=(a=>(a[a.None=0]=\"None\",a[a.RenderStrategy=1]=\"RenderStrategy\",a[a.Static=2]=\"Static\",a))(S||{}),j=(e=>(e[e.Unmount=0]=\"Unmount\",e[e.Hidden=1]=\"Hidden\",e))(j||{});function X({ourProps:r,theirProps:t,slot:e,defaultTag:a,features:s,visible:n=!0,name:f}){let o=N(t,r);if(n)return c(o,e,a,f);let u=s!=null?s:0;if(u&2){let{static:l=!1,...p}=o;if(l)return c(p,e,a,f)}if(u&1){let{unmount:l=!0,...p}=o;return P(l?0:1,{[0](){return null},[1](){return c({...p,hidden:!0,style:{display:\"none\"}},e,a,f)}})}return c(o,e,a,f)}function c(r,t={},e,a){let{as:s=e,children:n,refName:f=\"ref\",...o}=g(r,[\"unmount\",\"static\"]),u=r.ref!==void 0?{[f]:r.ref}:{},l=typeof n==\"function\"?n(t):n;\"className\"in o&&o.className&&typeof o.className==\"function\"&&(o.className=o.className(t));let p={};if(t){let i=!1,m=[];for(let[y,d]of Object.entries(t))typeof d==\"boolean\"&&(i=!0),d===!0&&m.push(y);i&&(p[\"data-headlessui-state\"]=m.join(\" \"))}if(s===T&&Object.keys(R(o)).length>0){if(!h(l)||Array.isArray(l)&&l.length>1)throw new Error(['Passing props on \"Fragment\"!',\"\",`The current component <${a} /> is rendering a \"Fragment\".`,\"However we need to passthrough the following props:\",Object.keys(o).map(d=>`  - ${d}`).join(`\n`),\"\",\"You can apply a few solutions:\",['Add an `as=\"...\"` prop, to ensure that we render an actual element instead of a \"Fragment\".',\"Render a single element as the child so that we can forward the props onto that element.\"].map(d=>`  - ${d}`).join(`\n`)].join(`\n`));let i=l.props,m=typeof(i==null?void 0:i.className)==\"function\"?(...d)=>F(i==null?void 0:i.className(...d),o.className):F(i==null?void 0:i.className,o.className),y=m?{className:m}:{};return x(l,Object.assign({},N(l.props,R(g(o,[\"ref\"]))),p,u,w(l.ref,u.ref),y))}return E(s,Object.assign({},g(o,[\"ref\"]),s!==T&&u,s!==T&&p),l)}function w(...r){return{ref:r.every(t=>t==null)?void 0:t=>{for(let e of r)e!=null&&(typeof e==\"function\"?e(t):e.current=t)}}}function N(...r){var a;if(r.length===0)return{};if(r.length===1)return r[0];let t={},e={};for(let s of r)for(let n in s)n.startsWith(\"on\")&&typeof s[n]==\"function\"?((a=e[n])!=null||(e[n]=[]),e[n].push(s[n])):t[n]=s[n];if(t.disabled||t[\"aria-disabled\"])return Object.assign(t,Object.fromEntries(Object.keys(e).map(s=>[s,void 0])));for(let s in e)Object.assign(t,{[s](n,...f){let o=e[s];for(let u of o){if((n instanceof Event||(n==null?void 0:n.nativeEvent)instanceof Event)&&n.defaultPrevented)return;u(n,...f)}}});return t}function D(r){var t;return Object.assign(b(r),{displayName:(t=r.displayName)!=null?t:r.name})}function R(r){let t=Object.assign({},r);for(let e in t)t[e]===void 0&&delete t[e];return t}function g(r,t=[]){let e=Object.assign({},r);for(let a of t)a in e&&delete e[a];return e}export{S as Features,j as RenderStrategy,R as compact,D as forwardRefWithAs,X as render};\n", "function e(...n){return n.filter(Boolean).join(\" \")}export{e as classNames};\n", "function r(n){let e=n.parentElement,l=null;for(;e&&!(e instanceof HTMLFieldSetElement);)e instanceof HTMLLegendElement&&(l=e),e=e.parentElement;let t=(e==null?void 0:e.getAttribute(\"disabled\"))===\"\";return t&&i(l)?!1:t}function i(n){if(!n)return!1;let e=n.previousElementSibling;for(;e!==null;){if(e instanceof HTMLLegendElement)return!1;e=e.previousElementSibling}return!0}export{r as isDisabledReactIssue7711};\n", "import{forwardRefWithAs as r,render as i}from'../utils/render.js';let a=\"div\";var p=(e=>(e[e.None=1]=\"None\",e[e.Focusable=2]=\"Focusable\",e[e.Hidden=4]=\"Hidden\",e))(p||{});function s(t,o){let{features:n=1,...e}=t,d={ref:o,\"aria-hidden\":(n&2)===2?!0:void 0,style:{position:\"fixed\",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:\"hidden\",clip:\"rect(0, 0, 0, 0)\",whiteSpace:\"nowrap\",borderWidth:\"0\",...(n&4)===4&&(n&2)!==2&&{display:\"none\"}}};return i({ourProps:d,theirProps:e,slot:{},defaultTag:a,name:\"Hidden\"})}let c=r(s);export{p as Features,c as Hidden};\n", "import l,{createContext as t,useContext as p}from\"react\";let n=t(null);n.displayName=\"OpenClosedContext\";var d=(e=>(e[e.Open=1]=\"Open\",e[e.Closed=2]=\"Closed\",e[e.Closing=4]=\"Closing\",e[e.Opening=8]=\"Opening\",e))(d||{});function C(){return p(n)}function c({value:o,children:r}){return l.createElement(n.Provider,{value:o},r)}export{c as OpenClosedProvider,d as State,C as useOpenClosed};\n", "var o=(r=>(r.Space=\" \",r.Enter=\"Enter\",r.Escape=\"Escape\",r.Backspace=\"Backspace\",r.Delete=\"Delete\",r.ArrowLeft=\"ArrowLeft\",r.ArrowUp=\"ArrowUp\",r.ArrowRight=\"ArrowRight\",r.ArrowDown=\"ArrowDown\",r.Home=\"Home\",r.End=\"End\",r.PageUp=\"PageUp\",r.PageDown=\"PageDown\",r.Tab=\"Tab\",r))(o||{});export{o as Keys};\n", "import{useEffect as s,useRef as f}from\"react\";import{useEvent as i}from'./use-event.js';function m(u,t){let e=f([]),r=i(u);s(()=>{let o=[...e.current];for(let[n,a]of t.entries())if(e.current[n]!==a){let l=r(t,o);return e.current=t,l}},[r,...t])}export{m as useWatch};\n", "function t(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function i(){return/Android/gi.test(window.navigator.userAgent)}function n(){return t()||i()}export{i as isAndroid,t as isIOS,n as isMobile};\n", "import u,{createContext as ce,createRef as De,useCallback as j,useContext as K,useEffect as w,useMemo as y,useReducer as me,useRef as Pe,useState as ye}from\"react\";import{match as B}from'../../utils/match.js';import{forwardRefWithAs as E,render as A,Features as V}from'../../utils/render.js';import{useSyncRefs as R}from'../../hooks/use-sync-refs.js';import{Keys as Ee}from'../keyboard.js';import{isDisabledReactIssue7711 as Ae}from'../../utils/bugs.js';import{useId as C}from'../../hooks/use-id.js';import{FocusTrap as v}from'../../components/focus-trap/focus-trap.js';import{Portal as H,useNestedPortals as Re}from'../../components/portal/portal.js';import{ForcePortalRoot as G}from'../../internal/portal-force-root.js';import{Description as Ce,useDescriptions as ve}from'../description/description.js';import{useOpenClosed as Oe,State as _}from'../../internal/open-closed.js';import{useServerHandoffComplete as be}from'../../hooks/use-server-handoff-complete.js';import{StackProvider as he,StackMessage as q}from'../../internal/stack-context.js';import{useOutsideClick as Se}from'../../hooks/use-outside-click.js';import{useOwnerDocument as Le}from'../../hooks/use-owner.js';import{useEventListener as Fe}from'../../hooks/use-event-listener.js';import{useEvent as O}from'../../hooks/use-event.js';import{useDocumentOverflowLockedEffect as ke}from'../../hooks/document-overflow/use-document-overflow.js';import{useInert as z}from'../../hooks/use-inert.js';import{useRootContainers as xe}from'../../hooks/use-root-containers.js';var _e=(o=>(o[o.Open=0]=\"Open\",o[o.Closed=1]=\"Closed\",o))(_e||{}),Ie=(e=>(e[e.SetTitleId=0]=\"SetTitleId\",e))(Ie||{});let Me={[0](t,e){return t.titleId===e.id?t:{...t,titleId:e.id}}},I=ce(null);I.displayName=\"DialogContext\";function b(t){let e=K(I);if(e===null){let o=new Error(`<${t} /> is missing a parent <Dialog /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(o,b),o}return e}function we(t,e,o=()=>[document.body]){ke(t,e,i=>{var n;return{containers:[...(n=i.containers)!=null?n:[],o]}})}function Be(t,e){return B(e.type,Me,t,e)}let He=\"div\",Ge=V.RenderStrategy|V.Static;function Ne(t,e){var X;let o=C(),{id:i=`headlessui-dialog-${o}`,open:n,onClose:l,initialFocus:s,__demoMode:g=!1,...T}=t,[m,h]=ye(0),a=Oe();n===void 0&&a!==null&&(n=(a&_.Open)===_.Open);let D=Pe(null),Q=R(D,e),f=Le(D),N=t.hasOwnProperty(\"open\")||a!==null,U=t.hasOwnProperty(\"onClose\");if(!N&&!U)throw new Error(\"You have to provide an `open` and an `onClose` prop to the `Dialog` component.\");if(!N)throw new Error(\"You provided an `onClose` prop to the `Dialog`, but forgot an `open` prop.\");if(!U)throw new Error(\"You provided an `open` prop to the `Dialog`, but forgot an `onClose` prop.\");if(typeof n!=\"boolean\")throw new Error(`You provided an \\`open\\` prop to the \\`Dialog\\`, but the value is not a boolean. Received: ${n}`);if(typeof l!=\"function\")throw new Error(`You provided an \\`onClose\\` prop to the \\`Dialog\\`, but the value is not a function. Received: ${l}`);let p=n?0:1,[S,Z]=me(Be,{titleId:null,descriptionId:null,panelRef:De()}),P=O(()=>l(!1)),W=O(r=>Z({type:0,id:r})),L=be()?g?!1:p===0:!1,F=m>1,Y=K(I)!==null,[ee,te]=Re(),{resolveContainers:M,mainTreeNodeRef:k,MainTreeNode:oe}=xe({portals:ee,defaultContainers:[(X=S.panelRef.current)!=null?X:D.current]}),re=F?\"parent\":\"leaf\",$=a!==null?(a&_.Closing)===_.Closing:!1,ne=(()=>Y||$?!1:L)(),le=j(()=>{var r,c;return(c=Array.from((r=f==null?void 0:f.querySelectorAll(\"body > *\"))!=null?r:[]).find(d=>d.id===\"headlessui-portal-root\"?!1:d.contains(k.current)&&d instanceof HTMLElement))!=null?c:null},[k]);z(le,ne);let ae=(()=>F?!0:L)(),ie=j(()=>{var r,c;return(c=Array.from((r=f==null?void 0:f.querySelectorAll(\"[data-headlessui-portal]\"))!=null?r:[]).find(d=>d.contains(k.current)&&d instanceof HTMLElement))!=null?c:null},[k]);z(ie,ae);let se=(()=>!(!L||F))();Se(M,P,se);let pe=(()=>!(F||p!==0))();Fe(f==null?void 0:f.defaultView,\"keydown\",r=>{pe&&(r.defaultPrevented||r.key===Ee.Escape&&(r.preventDefault(),r.stopPropagation(),P()))});let de=(()=>!($||p!==0||Y))();we(f,de,M),w(()=>{if(p!==0||!D.current)return;let r=new ResizeObserver(c=>{for(let d of c){let x=d.target.getBoundingClientRect();x.x===0&&x.y===0&&x.width===0&&x.height===0&&P()}});return r.observe(D.current),()=>r.disconnect()},[p,D,P]);let[ue,fe]=ve(),ge=y(()=>[{dialogState:p,close:P,setTitleId:W},S],[p,S,P,W]),J=y(()=>({open:p===0}),[p]),Te={ref:Q,id:i,role:\"dialog\",\"aria-modal\":p===0?!0:void 0,\"aria-labelledby\":S.titleId,\"aria-describedby\":ue};return u.createElement(he,{type:\"Dialog\",enabled:p===0,element:D,onUpdate:O((r,c)=>{c===\"Dialog\"&&B(r,{[q.Add]:()=>h(d=>d+1),[q.Remove]:()=>h(d=>d-1)})})},u.createElement(G,{force:!0},u.createElement(H,null,u.createElement(I.Provider,{value:ge},u.createElement(H.Group,{target:D},u.createElement(G,{force:!1},u.createElement(fe,{slot:J,name:\"Dialog.Description\"},u.createElement(v,{initialFocus:s,containers:M,features:L?B(re,{parent:v.features.RestoreFocus,leaf:v.features.All&~v.features.FocusLock}):v.features.None},u.createElement(te,null,A({ourProps:Te,theirProps:T,slot:J,defaultTag:He,features:Ge,visible:p===0,name:\"Dialog\"}))))))))),u.createElement(oe,null))}let Ue=\"div\";function We(t,e){let o=C(),{id:i=`headlessui-dialog-overlay-${o}`,...n}=t,[{dialogState:l,close:s}]=b(\"Dialog.Overlay\"),g=R(e),T=O(a=>{if(a.target===a.currentTarget){if(Ae(a.currentTarget))return a.preventDefault();a.preventDefault(),a.stopPropagation(),s()}}),m=y(()=>({open:l===0}),[l]);return A({ourProps:{ref:g,id:i,\"aria-hidden\":!0,onClick:T},theirProps:n,slot:m,defaultTag:Ue,name:\"Dialog.Overlay\"})}let Ye=\"div\";function $e(t,e){let o=C(),{id:i=`headlessui-dialog-backdrop-${o}`,...n}=t,[{dialogState:l},s]=b(\"Dialog.Backdrop\"),g=R(e);w(()=>{if(s.panelRef.current===null)throw new Error(\"A <Dialog.Backdrop /> component is being used, but a <Dialog.Panel /> component is missing.\")},[s.panelRef]);let T=y(()=>({open:l===0}),[l]);return u.createElement(G,{force:!0},u.createElement(H,null,A({ourProps:{ref:g,id:i,\"aria-hidden\":!0},theirProps:n,slot:T,defaultTag:Ye,name:\"Dialog.Backdrop\"})))}let Je=\"div\";function Xe(t,e){let o=C(),{id:i=`headlessui-dialog-panel-${o}`,...n}=t,[{dialogState:l},s]=b(\"Dialog.Panel\"),g=R(e,s.panelRef),T=y(()=>({open:l===0}),[l]),m=O(a=>{a.stopPropagation()});return A({ourProps:{ref:g,id:i,onClick:m},theirProps:n,slot:T,defaultTag:Je,name:\"Dialog.Panel\"})}let je=\"h2\";function Ke(t,e){let o=C(),{id:i=`headlessui-dialog-title-${o}`,...n}=t,[{dialogState:l,setTitleId:s}]=b(\"Dialog.Title\"),g=R(e);w(()=>(s(i),()=>s(null)),[i,s]);let T=y(()=>({open:l===0}),[l]);return A({ourProps:{ref:g,id:i},theirProps:n,slot:T,defaultTag:je,name:\"Dialog.Title\"})}let Ve=E(Ne),qe=E($e),ze=E(Xe),Qe=E(We),Ze=E(Ke),_t=Object.assign(Ve,{Backdrop:qe,Panel:ze,Overlay:Qe,Title:Ze,Description:Ce});export{_t as Dialog};\n", "import E,{useRef as L}from\"react\";import{forwardRefWithAs as U,render as N}from'../../utils/render.js';import{useServerHandoffComplete as I}from'../../hooks/use-server-handoff-complete.js';import{useSyncRefs as x}from'../../hooks/use-sync-refs.js';import{Features as R,Hidden as g}from'../../internal/hidden.js';import{focusElement as f,focusIn as M,Focus as p,FocusResult as w}from'../../utils/focus-management.js';import{match as k}from'../../utils/match.js';import{useEvent as A}from'../../hooks/use-event.js';import{useTabDirection as G,Direction as H}from'../../hooks/use-tab-direction.js';import{useIsMounted as C}from'../../hooks/use-is-mounted.js';import{useOwnerDocument as K}from'../../hooks/use-owner.js';import{useEventListener as W}from'../../hooks/use-event-listener.js';import{microTask as O}from'../../utils/micro-task.js';import{useWatch as F}from'../../hooks/use-watch.js';import{useDisposables as V}from'../../hooks/use-disposables.js';import{onDocumentReady as q}from'../../utils/document-ready.js';import{useOnUnmount as D}from'../../hooks/use-on-unmount.js';function P(t){if(!t)return new Set;if(typeof t==\"function\")return new Set(t());let r=new Set;for(let e of t.current)e.current instanceof HTMLElement&&r.add(e.current);return r}let J=\"div\";var h=(n=>(n[n.None=1]=\"None\",n[n.InitialFocus=2]=\"InitialFocus\",n[n.TabLock=4]=\"TabLock\",n[n.FocusLock=8]=\"FocusLock\",n[n.RestoreFocus=16]=\"RestoreFocus\",n[n.All=30]=\"All\",n))(h||{});function X(t,r){let e=L(null),o=x(e,r),{initialFocus:u,containers:i,features:n=30,...l}=t;I()||(n=1);let m=K(e);Y({ownerDocument:m},Boolean(n&16));let c=Z({ownerDocument:m,container:e,initialFocus:u},Boolean(n&2));$({ownerDocument:m,container:e,containers:i,previousActiveElement:c},Boolean(n&8));let v=G(),y=A(s=>{let T=e.current;if(!T)return;(B=>B())(()=>{k(v.current,{[H.Forwards]:()=>{M(T,p.First,{skipElements:[s.relatedTarget]})},[H.Backwards]:()=>{M(T,p.Last,{skipElements:[s.relatedTarget]})}})})}),_=V(),b=L(!1),j={ref:o,onKeyDown(s){s.key==\"Tab\"&&(b.current=!0,_.requestAnimationFrame(()=>{b.current=!1}))},onBlur(s){let T=P(i);e.current instanceof HTMLElement&&T.add(e.current);let d=s.relatedTarget;d instanceof HTMLElement&&d.dataset.headlessuiFocusGuard!==\"true\"&&(S(T,d)||(b.current?M(e.current,k(v.current,{[H.Forwards]:()=>p.Next,[H.Backwards]:()=>p.Previous})|p.WrapAround,{relativeTo:s.target}):s.target instanceof HTMLElement&&f(s.target)))}};return E.createElement(E.Fragment,null,Boolean(n&4)&&E.createElement(g,{as:\"button\",type:\"button\",\"data-headlessui-focus-guard\":!0,onFocus:y,features:R.Focusable}),N({ourProps:j,theirProps:l,defaultTag:J,name:\"FocusTrap\"}),Boolean(n&4)&&E.createElement(g,{as:\"button\",type:\"button\",\"data-headlessui-focus-guard\":!0,onFocus:y,features:R.Focusable}))}let z=U(X),ge=Object.assign(z,{features:h}),a=[];q(()=>{function t(r){r.target instanceof HTMLElement&&r.target!==document.body&&a[0]!==r.target&&(a.unshift(r.target),a=a.filter(e=>e!=null&&e.isConnected),a.splice(10))}window.addEventListener(\"click\",t,{capture:!0}),window.addEventListener(\"mousedown\",t,{capture:!0}),window.addEventListener(\"focus\",t,{capture:!0}),document.body.addEventListener(\"click\",t,{capture:!0}),document.body.addEventListener(\"mousedown\",t,{capture:!0}),document.body.addEventListener(\"focus\",t,{capture:!0})});function Q(t=!0){let r=L(a.slice());return F(([e],[o])=>{o===!0&&e===!1&&O(()=>{r.current.splice(0)}),o===!1&&e===!0&&(r.current=a.slice())},[t,a,r]),A(()=>{var e;return(e=r.current.find(o=>o!=null&&o.isConnected))!=null?e:null})}function Y({ownerDocument:t},r){let e=Q(r);F(()=>{r||(t==null?void 0:t.activeElement)===(t==null?void 0:t.body)&&f(e())},[r]),D(()=>{r&&f(e())})}function Z({ownerDocument:t,container:r,initialFocus:e},o){let u=L(null),i=C();return F(()=>{if(!o)return;let n=r.current;n&&O(()=>{if(!i.current)return;let l=t==null?void 0:t.activeElement;if(e!=null&&e.current){if((e==null?void 0:e.current)===l){u.current=l;return}}else if(n.contains(l)){u.current=l;return}e!=null&&e.current?f(e.current):M(n,p.First)===w.Error&&console.warn(\"There are no focusable elements inside the <FocusTrap />\"),u.current=t==null?void 0:t.activeElement})},[o]),u}function $({ownerDocument:t,container:r,containers:e,previousActiveElement:o},u){let i=C();W(t==null?void 0:t.defaultView,\"focus\",n=>{if(!u||!i.current)return;let l=P(e);r.current instanceof HTMLElement&&l.add(r.current);let m=o.current;if(!m)return;let c=n.target;c&&c instanceof HTMLElement?S(l,c)?(o.current=c,f(c)):(n.preventDefault(),n.stopPropagation(),f(m)):f(o.current)},!0)}function S(t,r){for(let e of t)if(e.contains(r))return!0;return!1}export{ge as FocusTrap};\n", "import{useRef as t}from\"react\";import{useWindowEvent as a}from'./use-window-event.js';var s=(r=>(r[r.Forwards=0]=\"Forwards\",r[r.Backwards=1]=\"Backwards\",r))(s||{});function n(){let e=t(0);return a(\"keydown\",o=>{o.key===\"Tab\"&&(e.current=o.shiftKey?1:0)},!0),e}export{s as Direction,n as useTabDirection};\n", "import{useRef as r}from\"react\";import{useIsoMorphicEffect as t}from'./use-iso-morphic-effect.js';function f(){let e=r(!1);return t(()=>(e.current=!0,()=>{e.current=!1}),[]),e}export{f as useIsMounted};\n", "import{useMemo as t}from\"react\";import{getOwnerDocument as o}from'../utils/owner.js';function n(...e){return t(()=>o(...e),[...e])}export{n as useOwnerDocument};\n", "import{useEffect as d}from\"react\";import{useLatestValue as s}from'./use-latest-value.js';function E(n,e,a,t){let i=s(a);d(()=>{n=n!=null?n:window;function r(o){i.current(o)}return n.addEventListener(e,r,t),()=>n.removeEventListener(e,r,t)},[n,e,t])}export{E as useEventListener};\n", "function t(n){function e(){document.readyState!==\"loading\"&&(n(),document.removeEventListener(\"DOMContentLoaded\",e))}typeof window!=\"undefined\"&&typeof document!=\"undefined\"&&(document.addEventListener(\"DOMContentLoaded\",e),e())}export{t as onDocumentReady};\n", "import{useRef as u,useEffect as n}from\"react\";import{microTask as o}from'../utils/micro-task.js';import{useEvent as f}from'./use-event.js';function c(t){let r=f(t),e=u(!1);n(()=>(e.current=!1,()=>{e.current=!0,o(()=>{e.current&&r()})}),[r])}export{c as useOnUnmount};\n", "import T,{Fragment as P,createContext as m,useContext as s,useEffect as d,useRef as g,useState as R,useMemo as E}from\"react\";import{createPortal as H}from\"react-dom\";import{forwardRefWithAs as c,render as y}from'../../utils/render.js';import{useIsoMorphicEffect as x}from'../../hooks/use-iso-morphic-effect.js';import{usePortalRoot as b}from'../../internal/portal-force-root.js';import{useServerHandoffComplete as h}from'../../hooks/use-server-handoff-complete.js';import{optionalRef as O,useSyncRefs as L}from'../../hooks/use-sync-refs.js';import{useOnUnmount as _}from'../../hooks/use-on-unmount.js';import{useOwnerDocument as A}from'../../hooks/use-owner.js';import{env as G}from'../../utils/env.js';import{useEvent as M}from'../../hooks/use-event.js';function F(p){let l=b(),n=s(v),e=A(p),[a,o]=R(()=>{if(!l&&n!==null||G.isServer)return null;let t=e==null?void 0:e.getElementById(\"headlessui-portal-root\");if(t)return t;if(e===null)return null;let r=e.createElement(\"div\");return r.setAttribute(\"id\",\"headlessui-portal-root\"),e.body.appendChild(r)});return d(()=>{a!==null&&(e!=null&&e.body.contains(a)||e==null||e.body.appendChild(a))},[a,e]),d(()=>{l||n!==null&&o(n.current)},[n,o,l]),a}let U=P;function N(p,l){let n=p,e=g(null),a=L(O(u=>{e.current=u}),l),o=A(e),t=F(e),[r]=R(()=>{var u;return G.isServer?null:(u=o==null?void 0:o.createElement(\"div\"))!=null?u:null}),i=s(f),C=h();return x(()=>{!t||!r||t.contains(r)||(r.setAttribute(\"data-headlessui-portal\",\"\"),t.appendChild(r))},[t,r]),x(()=>{if(r&&i)return i.register(r)},[i,r]),_(()=>{var u;!t||!r||(r instanceof Node&&t.contains(r)&&t.removeChild(r),t.childNodes.length<=0&&((u=t.parentElement)==null||u.removeChild(t)))}),C?!t||!r?null:H(y({ourProps:{ref:a},theirProps:n,defaultTag:U,name:\"Portal\"}),r):null}let S=P,v=m(null);function j(p,l){let{target:n,...e}=p,o={ref:L(l)};return T.createElement(v.Provider,{value:n},y({ourProps:o,theirProps:e,defaultTag:S,name:\"Popover.Group\"}))}let f=m(null);function ae(){let p=s(f),l=g([]),n=M(o=>(l.current.push(o),p&&p.register(o),()=>e(o))),e=M(o=>{let t=l.current.indexOf(o);t!==-1&&l.current.splice(t,1),p&&p.unregister(o)}),a=E(()=>({register:n,unregister:e,portals:l}),[n,e,l]);return[l,E(()=>function({children:t}){return T.createElement(f.Provider,{value:a},t)},[a])]}let D=c(N),I=c(j),pe=Object.assign(D,{Group:I});export{pe as Portal,ae as useNestedPortals};\n", "import t,{createContext as r,useContext as c}from\"react\";let e=r(!1);function l(){return c(e)}function P(o){return t.createElement(e.Provider,{value:o.force},o.children)}export{P as ForcePortalRoot,l as usePortalRoot};\n", "import u,{createContext as m,useContext as D,useMemo as l,useState as T}from\"react\";import{useId as P}from'../../hooks/use-id.js';import{forwardRefWithAs as g,render as E}from'../../utils/render.js';import{useIsoMorphicEffect as x}from'../../hooks/use-iso-morphic-effect.js';import{useSyncRefs as R}from'../../hooks/use-sync-refs.js';import{useEvent as I}from'../../hooks/use-event.js';let d=m(null);function f(){let r=D(d);if(r===null){let t=new Error(\"You used a <Description /> component, but it is not inside a relevant parent.\");throw Error.captureStackTrace&&Error.captureStackTrace(t,f),t}return r}function M(){let[r,t]=T([]);return[r.length>0?r.join(\" \"):void 0,l(()=>function(e){let i=I(s=>(t(o=>[...o,s]),()=>t(o=>{let p=o.slice(),c=p.indexOf(s);return c!==-1&&p.splice(c,1),p}))),n=l(()=>({register:i,slot:e.slot,name:e.name,props:e.props}),[i,e.slot,e.name,e.props]);return u.createElement(d.Provider,{value:n},e.children)},[t])]}let S=\"p\";function h(r,t){let a=P(),{id:e=`headlessui-description-${a}`,...i}=r,n=f(),s=R(t);x(()=>n.register(e),[e,n.register]);let o={ref:s,...n.props,id:e};return E({ourProps:o,theirProps:i,slot:n.slot||{},defaultTag:S,name:n.name||\"Description\"})}let y=g(h),b=Object.assign(y,{});export{b as Description,M as useDescriptions};\n", "import d,{createContext as c,useContext as m}from\"react\";import{useIsoMorphicEffect as f}from'../hooks/use-iso-morphic-effect.js';import{useEvent as p}from'../hooks/use-event.js';let a=c(()=>{});a.displayName=\"StackContext\";var s=(e=>(e[e.Add=0]=\"Add\",e[e.Remove=1]=\"Remove\",e))(s||{});function x(){return m(a)}function M({children:i,onUpdate:r,type:e,element:n,enabled:u}){let l=x(),o=p((...t)=>{r==null||r(...t),l(...t)});return f(()=>{let t=u===void 0||u===!0;return t&&o(0,e,n),()=>{t&&o(1,e,n)}},[o,e,n,u]),d.createElement(a.Provider,{value:o},i)}export{s as StackMessage,M as StackProvider,x as useStackContext};\n", "import*as e from\"react\";import{useSyncExternalStore as t}from'./useSyncExternalStoreShimClient.js';import{useSyncExternalStore as o}from'./useSyncExternalStoreShimServer.js';const r=typeof window!=\"undefined\"&&typeof window.document!=\"undefined\"&&typeof window.document.createElement!=\"undefined\",s=!r,c=s?o:t,a=\"useSyncExternalStore\"in e?(n=>n.useSyncExternalStore)(e):c;export{a as useSyncExternalStore};\n", "import*as l from\"react\";function i(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}const d=typeof Object.is==\"function\"?Object.is:i,{useState:u,useEffect:h,useLayoutEffect:f,useDebugValue:p}=l;let S=!1,_=!1;function y(e,t,c){const a=t(),[{inst:n},o]=u({inst:{value:a,getSnapshot:t}});return f(()=>{n.value=a,n.getSnapshot=t,r(n)&&o({inst:n})},[e,a,t]),h(()=>(r(n)&&o({inst:n}),e(()=>{r(n)&&o({inst:n})})),[e]),p(a),a}function r(e){const t=e.getSnapshot,c=e.value;try{const a=t();return!d(c,a)}catch{return!0}}export{y as useSyncExternalStore};\n", "function t(r,e,n){return e()}export{t as useSyncExternalStore};\n", "import{useSyncExternalStore as r}from'../use-sync-external-store-shim/index.js';function S(t){return r(t.subscribe,t.getSnapshot,t.getSnapshot)}export{S as useStore};\n", "function a(o,r){let t=o(),n=new Set;return{getSnapshot(){return t},subscribe(e){return n.add(e),()=>n.delete(e)},dispatch(e,...s){let i=r[e].call(t,...s);i&&(t=i,n.forEach(c=>c()))}}}export{a as createStore};\n", "function c(){let o;return{before({doc:e}){var l;let n=e.documentElement;o=((l=e.defaultView)!=null?l:window).innerWidth-n.clientWidth},after({doc:e,d:n}){let t=e.documentElement,l=t.clientWidth-t.offsetWidth,r=o-l;n.style(t,\"paddingRight\",`${r}px`)}}}export{c as adjustScrollbarPadding};\n", "import{isIOS as f}from'../../utils/platform.js';function p(){if(!f())return{};let o;return{before(){o=window.pageYOffset},after({doc:r,d:l,meta:s}){function i(e){return s.containers.flatMap(t=>t()).some(t=>t.contains(e))}l.style(r.body,\"marginTop\",`-${o}px`),window.scrollTo(0,0);let n=null;l.addEventListener(r,\"click\",e=>{if(e.target instanceof HTMLElement)try{let t=e.target.closest(\"a\");if(!t)return;let{hash:c}=new URL(t.href),a=r.querySelector(c);a&&!i(a)&&(n=a)}catch{}},!0),l.addEventListener(r,\"touchmove\",e=>{e.target instanceof HTMLElement&&!i(e.target)&&e.preventDefault()},{passive:!1}),l.add(()=>{window.scrollTo(0,window.pageYOffset+o),n&&n.isConnected&&(n.scrollIntoView({block:\"nearest\"}),n=null)})}}}export{p as handleIOSLocking};\n", "function l(){return{before({doc:e,d:o}){o.style(e.documentElement,\"overflow\",\"hidden\")}}}export{l as preventScroll};\n", "import{disposables as s}from'../../utils/disposables.js';import{createStore as i}from'../../utils/store.js';import{adjustScrollbarPadding as l}from'./adjust-scrollbar-padding.js';import{handleIOSLocking as d}from'./handle-ios-locking.js';import{preventScroll as p}from'./prevent-scroll.js';function m(e){let n={};for(let t of e)Object.assign(n,t(n));return n}let a=i(()=>new Map,{PUSH(e,n){var o;let t=(o=this.get(e))!=null?o:{doc:e,count:0,d:s(),meta:new Set};return t.count++,t.meta.add(n),this.set(e,t),this},POP(e,n){let t=this.get(e);return t&&(t.count--,t.meta.delete(n)),this},SCROLL_PREVENT({doc:e,d:n,meta:t}){let o={doc:e,d:n,meta:m(t)},c=[d(),l(),p()];c.forEach(({before:r})=>r==null?void 0:r(o)),c.forEach(({after:r})=>r==null?void 0:r(o))},SCROLL_ALLOW({d:e}){e.dispose()},TEARDOWN({doc:e}){this.delete(e)}});a.subscribe(()=>{let e=a.getSnapshot(),n=new Map;for(let[t]of e)n.set(t,t.documentElement.style.overflow);for(let t of e.values()){let o=n.get(t.doc)===\"hidden\",c=t.count!==0;(c&&!o||!c&&o)&&a.dispatch(t.count>0?\"SCROLL_PREVENT\":\"SCROLL_ALLOW\",t),t.count===0&&a.dispatch(\"TEARDOWN\",t)}});export{a as overflows};\n", "import{useIsoMorphicEffect as u}from'../use-iso-morphic-effect.js';import{useStore as s}from'../../hooks/use-store.js';import{overflows as t}from'./overflow-store.js';function p(e,r,n){let f=s(t),o=e?f.get(e):void 0,i=o?o.count>0:!1;return u(()=>{if(!(!e||!r))return t.dispatch(\"PUSH\",e,n),()=>t.dispatch(\"POP\",e,n)},[r,e]),i}export{p as useDocumentOverflowLockedEffect};\n", "import{useIsoMorphicEffect as s}from'./use-iso-morphic-effect.js';let u=new Map,t=new Map;function h(r,l=!0){s(()=>{var o;if(!l)return;let e=typeof r==\"function\"?r():r.current;if(!e)return;function a(){var d;if(!e)return;let i=(d=t.get(e))!=null?d:1;if(i===1?t.delete(e):t.set(e,i-1),i!==1)return;let n=u.get(e);n&&(n[\"aria-hidden\"]===null?e.removeAttribute(\"aria-hidden\"):e.setAttribute(\"aria-hidden\",n[\"aria-hidden\"]),e.inert=n.inert,u.delete(e))}let f=(o=t.get(e))!=null?o:0;return t.set(e,f+1),f!==0||(u.set(e,{\"aria-hidden\":e.getAttribute(\"aria-hidden\"),inert:e.inert}),e.setAttribute(\"aria-hidden\",\"true\"),e.inert=!0),a},[r,l])}export{h as useInert};\n", "import s,{useRef as a,useMemo as m}from\"react\";import{Hidden as d,Features as M}from'../internal/hidden.js';import{useEvent as l}from'./use-event.js';import{useOwnerDocument as H}from'./use-owner.js';function p({defaultContainers:f=[],portals:o}={}){let t=a(null),i=H(t),u=l(()=>{var r;let n=[];for(let e of f)e!==null&&(e instanceof HTMLElement?n.push(e):\"current\"in e&&e.current instanceof HTMLElement&&n.push(e.current));if(o!=null&&o.current)for(let e of o.current)n.push(e);for(let e of(r=i==null?void 0:i.querySelectorAll(\"html > *, body > *\"))!=null?r:[])e!==document.body&&e!==document.head&&e instanceof HTMLElement&&e.id!==\"headlessui-portal-root\"&&(e.contains(t.current)||n.some(c=>e.contains(c))||n.push(e));return n});return{resolveContainers:u,contains:l(n=>u().some(r=>r.contains(n))),mainTreeNodeRef:t,MainTreeNode:m(()=>function(){return s.createElement(d,{features:M.Hidden,ref:t})},[t])}}export{p as useRootContainers};\n", "import{useState as f,useCallback as n}from\"react\";import{useIsMounted as i}from'./use-is-mounted.js';function c(a=0){let[l,r]=f(a),t=i(),o=n(e=>{t.current&&r(u=>u|e)},[l,t]),m=n(e=>Boolean(l&e),[l]),s=n(e=>{t.current&&r(u=>u&~e)},[r,t]),g=n(e=>{t.current&&r(u=>u^e)},[r]);return{flags:l,addFlag:o,hasFlag:m,removeFlag:s,toggleFlag:g}}export{c as useFlags};\n", "import m,{Fragment as Q,createContext as Y,useContext as X,useEffect as y,useMemo as Z,useRef as c,useState as W}from\"react\";import{Features as de,forwardRefWithAs as q,render as $,RenderStrategy as E}from'../../utils/render.js';import{OpenClosedProvider as fe,State as b,useOpenClosed as ee}from'../../internal/open-closed.js';import{match as F}from'../../utils/match.js';import{useIsMounted as me}from'../../hooks/use-is-mounted.js';import{useIsoMorphicEffect as ce}from'../../hooks/use-iso-morphic-effect.js';import{useLatestValue as A}from'../../hooks/use-latest-value.js';import{useServerHandoffComplete as te}from'../../hooks/use-server-handoff-complete.js';import{useSyncRefs as ne}from'../../hooks/use-sync-refs.js';import{useTransition as pe}from'../../hooks/use-transition.js';import{useEvent as S}from'../../hooks/use-event.js';import{useDisposables as he}from'../../hooks/use-disposables.js';import{classNames as ve}from'../../utils/class-names.js';import{useFlags as ge}from'../../hooks/use-flags.js';function x(t=\"\"){return t.split(\" \").filter(n=>n.trim().length>1)}let I=Y(null);I.displayName=\"TransitionContext\";var Ce=(r=>(r.Visible=\"visible\",r.Hidden=\"hidden\",r))(Ce||{});function Ee(){let t=X(I);if(t===null)throw new Error(\"A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.\");return t}function be(){let t=X(_);if(t===null)throw new Error(\"A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.\");return t}let _=Y(null);_.displayName=\"NestingContext\";function M(t){return\"children\"in t?M(t.children):t.current.filter(({el:n})=>n.current!==null).filter(({state:n})=>n===\"visible\").length>0}function re(t,n){let r=A(t),o=c([]),N=me(),H=he(),p=S((s,e=E.Hidden)=>{let a=o.current.findIndex(({el:i})=>i===s);a!==-1&&(F(e,{[E.Unmount](){o.current.splice(a,1)},[E.Hidden](){o.current[a].state=\"hidden\"}}),H.microTask(()=>{var i;!M(o)&&N.current&&((i=r.current)==null||i.call(r))}))}),P=S(s=>{let e=o.current.find(({el:a})=>a===s);return e?e.state!==\"visible\"&&(e.state=\"visible\"):o.current.push({el:s,state:\"visible\"}),()=>p(s,E.Unmount)}),h=c([]),v=c(Promise.resolve()),T=c({enter:[],leave:[],idle:[]}),g=S((s,e,a)=>{h.current.splice(0),n&&(n.chains.current[e]=n.chains.current[e].filter(([i])=>i!==s)),n==null||n.chains.current[e].push([s,new Promise(i=>{h.current.push(i)})]),n==null||n.chains.current[e].push([s,new Promise(i=>{Promise.all(T.current[e].map(([l,R])=>R)).then(()=>i())})]),e===\"enter\"?v.current=v.current.then(()=>n==null?void 0:n.wait.current).then(()=>a(e)):a(e)}),f=S((s,e,a)=>{Promise.all(T.current[e].splice(0).map(([i,l])=>l)).then(()=>{var i;(i=h.current.shift())==null||i()}).then(()=>a(e))});return Z(()=>({children:o,register:P,unregister:p,onStart:g,onStop:f,wait:v,chains:T}),[P,p,o,g,f,T,v])}function Se(){}let xe=[\"beforeEnter\",\"afterEnter\",\"beforeLeave\",\"afterLeave\"];function ie(t){var r;let n={};for(let o of xe)n[o]=(r=t[o])!=null?r:Se;return n}function Pe(t){let n=c(ie(t));return y(()=>{n.current=ie(t)},[t]),n}let Re=\"div\",oe=de.RenderStrategy;function ye(t,n){let{beforeEnter:r,afterEnter:o,beforeLeave:N,afterLeave:H,enter:p,enterFrom:P,enterTo:h,entered:v,leave:T,leaveFrom:g,leaveTo:f,...s}=t,e=c(null),a=ne(e,n),i=s.unmount?E.Unmount:E.Hidden,{show:l,appear:R,initial:d}=Ee(),[u,U]=W(l?\"visible\":\"hidden\"),K=be(),{register:L,unregister:w}=K,j=c(null);y(()=>L(e),[L,e]),y(()=>{if(i===E.Hidden&&e.current){if(l&&u!==\"visible\"){U(\"visible\");return}return F(u,{[\"hidden\"]:()=>w(e),[\"visible\"]:()=>L(e)})}},[u,e,L,w,l,i]);let k=A({enter:x(p),enterFrom:x(P),enterTo:x(h),entered:x(v),leave:x(T),leaveFrom:x(g),leaveTo:x(f)}),O=Pe({beforeEnter:r,afterEnter:o,beforeLeave:N,afterLeave:H}),G=te();y(()=>{if(G&&u===\"visible\"&&e.current===null)throw new Error(\"Did you forget to passthrough the `ref` to the actual DOM node?\")},[e,u,G]);let B=d&&!R,ae=(()=>!G||B||j.current===l?\"idle\":l?\"enter\":\"leave\")(),D=ge(0),le=S(C=>F(C,{enter:()=>{D.addFlag(b.Opening),O.current.beforeEnter()},leave:()=>{D.addFlag(b.Closing),O.current.beforeLeave()},idle:()=>{}})),ue=S(C=>F(C,{enter:()=>{D.removeFlag(b.Opening),O.current.afterEnter()},leave:()=>{D.removeFlag(b.Closing),O.current.afterLeave()},idle:()=>{}})),V=re(()=>{U(\"hidden\"),w(e)},K);pe({container:e,classes:k,direction:ae,onStart:A(C=>{V.onStart(e,C,le)}),onStop:A(C=>{V.onStop(e,C,ue),C===\"leave\"&&!M(V)&&(U(\"hidden\"),w(e))})}),y(()=>{B&&(i===E.Hidden?j.current=null:j.current=l)},[l,B,u]);let J=s,Te={ref:a};return R&&l&&d&&(J={...J,className:ve(s.className,...k.current.enter,...k.current.enterFrom)}),m.createElement(_.Provider,{value:V},m.createElement(fe,{value:F(u,{[\"visible\"]:b.Open,[\"hidden\"]:b.Closed})|D.flags},$({ourProps:Te,theirProps:J,defaultTag:Re,features:oe,visible:u===\"visible\",name:\"Transition.Child\"})))}function Ne(t,n){let{show:r,appear:o=!1,unmount:N,...H}=t,p=c(null),P=ne(p,n);te();let h=ee();if(r===void 0&&h!==null&&(r=(h&b.Open)===b.Open),![!0,!1].includes(r))throw new Error(\"A <Transition /> is used but it is missing a `show={true | false}` prop.\");let[v,T]=W(r?\"visible\":\"hidden\"),g=re(()=>{T(\"hidden\")}),[f,s]=W(!0),e=c([r]);ce(()=>{f!==!1&&e.current[e.current.length-1]!==r&&(e.current.push(r),s(!1))},[e,r]);let a=Z(()=>({show:r,appear:o,initial:f}),[r,o,f]);y(()=>{if(r)T(\"visible\");else if(!M(g))T(\"hidden\");else{let d=p.current;if(!d)return;let u=d.getBoundingClientRect();u.x===0&&u.y===0&&u.width===0&&u.height===0&&T(\"hidden\")}},[r,g]);let i={unmount:N},l=S(()=>{var d;f&&s(!1),(d=t.beforeEnter)==null||d.call(t)}),R=S(()=>{var d;f&&s(!1),(d=t.beforeLeave)==null||d.call(t)});return m.createElement(_.Provider,{value:g},m.createElement(I.Provider,{value:a},$({ourProps:{...i,as:Q,children:m.createElement(se,{ref:P,...i,...H,beforeEnter:l,beforeLeave:R})},theirProps:{},defaultTag:Q,features:oe,visible:v===\"visible\",name:\"Transition\"})))}function He(t,n){let r=X(I)!==null,o=ee()!==null;return m.createElement(m.Fragment,null,!r&&o?m.createElement(z,{ref:n,...t}):m.createElement(se,{ref:n,...t}))}let z=q(Ne),se=q(ye),De=q(He),$e=Object.assign(z,{Child:De,Root:z});export{$e as Transition};\n", "function l(r){let e={called:!1};return(...t)=>{if(!e.called)return e.called=!0,r(...t)}}export{l as once};\n", "import{once as T}from'../../../utils/once.js';import{disposables as g}from'../../../utils/disposables.js';import{match as s}from'../../../utils/match.js';function d(t,...e){t&&e.length>0&&t.classList.add(...e)}function v(t,...e){t&&e.length>0&&t.classList.remove(...e)}function F(t,e){let n=g();if(!t)return n.dispose;let{transitionDuration:m,transitionDelay:o}=getComputedStyle(t),[u,p]=[m,o].map(a=>{let[r=0]=a.split(\",\").filter(Boolean).map(i=>i.includes(\"ms\")?parseFloat(i):parseFloat(i)*1e3).sort((i,f)=>f-i);return r}),l=u+p;if(l!==0){n.group(r=>{r.setTimeout(()=>{e(),r.dispose()},l),r.addEventListener(t,\"transitionrun\",i=>{i.target===i.currentTarget&&r.dispose()})});let a=n.addEventListener(t,\"transitionend\",r=>{r.target===r.currentTarget&&(e(),a())})}else e();return n.add(()=>e()),n.dispose}function y(t,e,n,m){let o=n?\"enter\":\"leave\",u=g(),p=m!==void 0?T(m):()=>{};o===\"enter\"&&(t.removeAttribute(\"hidden\"),t.style.display=\"\");let l=s(o,{enter:()=>e.enter,leave:()=>e.leave}),a=s(o,{enter:()=>e.enterTo,leave:()=>e.leaveTo}),r=s(o,{enter:()=>e.enterFrom,leave:()=>e.leaveFrom});return v(t,...e.enter,...e.enterTo,...e.enterFrom,...e.leave,...e.leaveFrom,...e.leaveTo,...e.entered),d(t,...l,...r),u.nextFrame(()=>{v(t,...r),d(t,...a),F(t,()=>(v(t,...l),d(t,...e.entered),p()))}),u.dispose}export{y as transition};\n", "import{transition as d}from'../components/transitions/utils/transition.js';import{disposables as l}from'../utils/disposables.js';import{useDisposables as f}from'./use-disposables.js';import{useIsMounted as m}from'./use-is-mounted.js';import{useIsoMorphicEffect as p}from'./use-iso-morphic-effect.js';import{useLatestValue as b}from'./use-latest-value.js';function D({container:i,direction:t,classes:o,onStart:s,onStop:u}){let a=m(),c=f(),r=b(t);p(()=>{let e=l();c.add(e.dispose);let n=i.current;if(n&&r.current!==\"idle\"&&a.current)return e.dispose(),s.current(r.current),e.add(d(n,o.current,r.current===\"enter\",()=>{e.dispose(),u.current(r.current)})),e.dispose},[t])}export{D as useTransition};\n"],
  "mappings": "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",
  "names": ["import_jsx_runtime", "React", "ForwardRef", "import_jsx_runtime", "import_react", "import_jsx_runtime", "import_react", "x", "y", "i", "m", "r", "r2", "n", "z", "s", "t", "j", "x", "i", "p", "y", "z", "r", "z2", "f", "j", "y2", "React", "React", "import_react", "React", "import_react", "v", "a", "b", "i", "e", "result", "import_react", "mapLib", "Map", "mapLib", "React", "import_react", "mapLib", "e", "import_react_dom", "import_react", "mapLib", "e", "c", "import_react", "import_react", "mapLib", "import_react", "mapLib", "import_react", "mapLib", "e", "import_react", "mapLib", "import_react", "mapLib", "React", "import_react", "import_react", "Map", "Marker", "Map", "import_jsx_runtime", "React", "ForwardRef", "React", "ForwardRef", "Marker", "_c", "_c", "import_jsx_runtime", "Marker", "_c", "_c", "e", "_c", "_c", "import_jsx_runtime", "import_react", "_s", "_c", "_c", "import_jsx_runtime", "import_react", "import_react", "t", "e", "n", "e", "f", "c", "t", "import_react", "s", "e", "r", "t", "import_react", "t", "e", "o", "o", "n", "r", "e", "t", "s", "a", "e", "s", "o", "import_react", "o", "t", "e", "s", "a", "r", "import_react", "import_react", "l", "e", "f", "r", "o", "o", "t", "n", "l", "e", "u", "import_react", "r", "n", "a", "e", "t", "r", "c", "e", "n", "o", "t", "r", "l", "t", "e", "r", "I", "l", "o", "i", "n", "e", "r", "t", "l", "o", "i", "n", "I", "s", "E", "x", "p", "d", "a", "u", "import_react", "d", "e", "r", "n", "o", "s", "m", "t", "u", "import_react", "s", "e", "r", "n", "o", "d", "t", "i", "H", "s", "m", "i", "l", "c", "d", "a", "e", "o", "n", "E", "r", "t", "u", "import_react", "u", "T", "t", "n", "y", "l", "i", "c", "o", "e", "import_react", "e", "n", "S", "a", "e", "r", "t", "s", "n", "f", "o", "N", "c", "u", "l", "p", "i", "m", "y", "d", "T", "h", "x", "w", "E", "b", "r", "n", "e", "l", "t", "i", "a", "p", "e", "s", "t", "o", "n", "d", "c", "import_react", "t", "d", "e", "p", "c", "o", "r", "l", "o", "r", "import_react", "m", "u", "t", "e", "f", "r", "o", "s", "n", "a", "l", "t", "import_react", "import_react", "import_react", "s", "r", "n", "e", "t", "o", "import_react", "f", "e", "r", "import_react", "n", "e", "t", "import_react", "E", "n", "e", "a", "t", "i", "s", "d", "r", "o", "t", "n", "e", "import_react", "c", "t", "r", "o", "e", "u", "n", "t", "r", "e", "h", "n", "X", "L", "o", "y", "u", "i", "l", "m", "c", "v", "s", "T", "_", "b", "j", "d", "S", "E", "p", "a", "f", "import_react", "import_react_dom", "import_react", "e", "r", "l", "c", "P", "o", "t", "F", "p", "l", "n", "s", "e", "a", "o", "R", "t", "r", "d", "P", "N", "g", "y", "T", "u", "i", "f", "C", "c", "H", "S", "m", "j", "E", "D", "I", "import_react", "d", "m", "f", "r", "D", "t", "M", "T", "l", "e", "i", "o", "s", "p", "c", "n", "u", "S", "h", "a", "y", "b", "import_react", "a", "c", "s", "e", "x", "m", "M", "i", "r", "n", "u", "l", "o", "t", "d", "e", "l", "i", "e", "t", "d", "u", "h", "f", "p", "y", "e", "t", "c", "a", "n", "o", "u", "f", "r", "h", "p", "d", "t", "r", "e", "n", "r", "s", "c", "t", "y", "a", "e", "n", "S", "t", "a", "a", "o", "r", "t", "n", "e", "s", "i", "c", "c", "o", "e", "l", "n", "t", "r", "p", "t", "o", "r", "l", "s", "i", "e", "n", "c", "a", "l", "e", "o", "m", "e", "n", "t", "a", "o", "c", "p", "l", "r", "p", "e", "r", "n", "f", "S", "a", "o", "i", "u", "t", "h", "r", "l", "o", "e", "a", "d", "i", "n", "f", "import_react", "p", "f", "o", "t", "a", "i", "n", "u", "r", "e", "c", "m", "s", "o", "e", "t", "I", "ce", "b", "K", "p", "i", "n", "S", "X", "l", "s", "g", "T", "m", "h", "ye", "a", "d", "D", "Pe", "Q", "y", "f", "N", "U", "Z", "me", "De", "P", "W", "r", "L", "F", "Y", "M", "oe", "re", "$", "j", "c", "ae", "ie", "se", "H", "pe", "E", "w", "x", "ge", "J", "u", "import_react", "c", "a", "l", "r", "f", "t", "o", "n", "e", "u", "m", "s", "g", "import_react", "l", "r", "e", "t", "d", "t", "e", "v", "F", "n", "o", "m", "u", "p", "a", "r", "i", "f", "l", "y", "D", "i", "t", "o", "s", "u", "a", "f", "c", "r", "e", "n", "y", "x", "t", "n", "I", "Y", "r", "X", "M", "s", "o", "c", "N", "f", "H", "p", "e", "a", "i", "P", "h", "v", "T", "g", "l", "R", "Z", "Pe", "y", "S", "ye", "d", "u", "U", "W", "K", "L", "w", "j", "O", "ae", "D", "C", "J", "m", "Ne", "Q", "He", "z", "De", "$e", "$e", "Fragment2", "_c", "_c", "_s", "_c", "_c", "import_map", "_s", "_s", "_c", "_c"]
}
